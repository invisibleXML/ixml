<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" version="XHTML+RDFa 1.0" class="informal no-js "><head profile=""><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><!--Generated by the DeltaXML.com xhtml-outfilter.xsl--><!--Using XSL Processor: Saxonica--><title>Invisible XML Specification</title><link rel="stylesheet" href="css/style.css"><script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script><script defer="defer" src="js/features.js"></script><style type="text/css">
          body { margin-top: 50px }
          a.button { background: #DDD; border: 2px outset black; padding: 2px; margin: 2px; font-family: sans-serif; font-size: small;}
          a.button:hover { cursor:pointer; }
          a.button:active { border-style: inset; }
        </style><link rel="stylesheet" href="css/autodiff.css"></head><body><h1><span class="deltaxml-old">Invisible XML Specification</span></h1><div class="diffinfo"><p>The presentation of this document has been augmented by
    <a href="https://www.deltaxml.com/">DeltaXML</a> to identify changes
    from the current version. You can view the old version, the new version,
    or both versions with styled <span class="show-old">old text</span>
    and <span class="show-new">new text</span>.</p></div><p><span class="deltaxml-old">Editor: Steven Pemberton, CWI, Amsterdam</span></p><p><span class="deltaxml-old">Version: 2023-11-28</span></p><p><span class="deltaxml-old">Please consult the </span><a href="errata.html" shape="rect"><span class="deltaxml-old">errata page</span></a><span class="deltaxml-old"> for
additional changes to the specification after publication.</span></p><p><span class="deltaxml-old">A version with automatically generated change
    markup </span><a href="autodiff.html" shape="rect"><span class="deltaxml-old">is available</span></a><span class="deltaxml-old">. Change markup shows
    the differences between </span><a href="index.html" shape="rect"><span class="deltaxml-old">this version</span></a><span class="deltaxml-old"> of the
    specification and the
    </span><a href="https://invisiblexml.org/current/" shape="rect"><span class="deltaxml-old">current version</span></a><span class="deltaxml-old"> (at the
    time of publication).</span></p><h2 id="status"><span class="deltaxml-old">Status</span></h2><p><span class="deltaxml-old">This document describes ixml version 1.0++, a work in progress.
It reflects corrections to errata found in the published text of ixml
1.0, and may in due course be published as an updated specification.
The current official version is
</span><a href="https://invisiblexml.org/1.0/" shape="rect"><span class="deltaxml-old">Invisible XML 1.0</span></a><span class="deltaxml-old">.</span></p><div class="toc"><ul><li><a href="#introduction" shape="rect"><span class="deltaxml-old">Introduction</span></a></li><li><a href="#works" shape="rect"><span class="deltaxml-old">How it works</span></a></li><li><a href="#grammar" shape="rect"><span class="deltaxml-old">The Grammar</span></a><ul><li><a href="#L3041" shape="rect"><span class="deltaxml-old">Prolog</span></a></li><li><a href="#rules" shape="rect"><span class="deltaxml-old">Rules</span></a></li><li><a href="#nonterminals" shape="rect"><span class="deltaxml-old">Nonterminals</span></a></li><li><a href="#terminals" shape="rect"><span class="deltaxml-old">Terminals</span></a></li><li><a href="#characters" shape="rect"><span class="deltaxml-old">Character sets</span></a></li><li><a href="#L649" shape="rect"><span class="deltaxml-old">Insertions</span></a></li></ul></li><li><a href="#parsing" shape="rect"><span class="deltaxml-old">Parsing</span></a></li><li><a href="#serialisation" shape="rect"><span class="deltaxml-old">Serialization</span></a></li><li><a href="#conformance" shape="rect"><span class="deltaxml-old">Conformance</span></a><ul><li><a href="#grammarconformance" shape="rect"><span class="deltaxml-old">Conformance of grammars</span></a></li><li><a href="#processorconformance" shape="rect"><span class="deltaxml-old">Conformance of processors</span></a></li></ul></li><li><a href="#hints" shape="rect"><span class="deltaxml-old">Hints for Implementers</span></a></li><li><a href="#complete" shape="rect"><span class="deltaxml-old">Complete Grammar</span></a></li><li><a href="#ixml" shape="rect"><span class="deltaxml-old">IXML in IXML</span></a></li><li><a href="#errors" shape="rect"><span class="deltaxml-old">Errors</span></a></li><li><a href="#references" shape="rect"><span class="deltaxml-old">References</span></a></li><li><a href="#L3425" shape="rect"><span class="deltaxml-old">Informational References</span></a></li><li><a href="#acknowledgments" shape="rect"><span class="deltaxml-old">Acknowledgements</span></a></li></ul></div><h2 id="introduction"><span class="deltaxml-old">Introduction</span></h2><p><span class="deltaxml-old">Data is an abstraction: there is no essential difference between the JSON</span></p><pre><span class="deltaxml-old">{"temperature": {"scale": "C", "value": 21}}</span></pre><p><span class="deltaxml-old">and an equivalent XML</span></p><pre class="xml"><span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">temperature</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">scale</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">C</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">value</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">21</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span></span></pre><p><span class="deltaxml-old">or</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">temperature</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">scale</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">C</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">scale</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">21</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">temperature</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><p><span class="deltaxml-old">since the underlying abstractions being represented are the same. </span></p><p><span class="deltaxml-old">We choose which representations of our data to use, CSV, JSON, XML, or
whatever, depending on habit, convenience, and the context in which it occurs.
On the other hand, having an interoperable generic toolchain such as that
provided by XML to process data is of immense value. How do we resolve the
conflicting requirements of convenience, habit, and context, and still enable a
generic toolchain? </span></p><p><span class="deltaxml-old">Invisible XML (ixml) is a method for treating non-XML documents as if they
were XML, enabling authors to write documents and data in a format they prefer
while providing XML for processes that are more effective with XML content. For
example, it can turn CSS code like</span></p><pre><span class="deltaxml-old">body {color: blue; font-weight: bold}</span></pre><p><span class="deltaxml-old">into XML like</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">css</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">selector</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">body</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">selector</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">block</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">property</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
            </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">name</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">color</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">name</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
            </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">blue</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">property</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">property</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
            </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">name</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">font-weight</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">name</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
            </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">bold</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">property</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">block</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">css</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><p><span class="deltaxml-old">or, if preferred, as:</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">css</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">simple-selector</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">body</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">property</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">color</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">value</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">blue</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">property</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">font-weight</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">value</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">bold</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">css</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><p><span class="deltaxml-old">As another example, the expression</span></p><pre><span class="deltaxml-old">pi×(10+b)</span></pre><p><span class="deltaxml-old">can result in the XML</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">prod</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">id</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">pi</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">id</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">sum</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">number</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">10</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">number</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">id</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">b</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">id</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">sum</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">prod</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><p><span class="deltaxml-old">or</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">prod</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">id</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">pi</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">sum</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">number</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">value</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">10</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">id</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">b</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">sum</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">prod</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><p><span class="deltaxml-old">and the URL</span></p><pre><span class="deltaxml-old">http://www.w3.org/TR/1999/xhtml.html</span></pre><p><span class="deltaxml-old">can give</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">url</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">scheme</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">http</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">authority</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">host</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">sub</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">www</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">sub</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">w3</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">sub</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">org</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">host</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">authority</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">path</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">seg</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">sname</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">TR</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">seg</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">sname</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">1999</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">seg</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">sname</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">xhtml.html</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">path</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">url</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><p><span class="deltaxml-old">or</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">url</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">scheme</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">http</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">host</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">www.w3.org</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">host</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">path</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">/TR/1999/xhtml.html</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">path</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">url</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><p><span class="deltaxml-old">The JSON value:</span></p><pre><span class="deltaxml-old">{"name": "pi", "value": 3.145926}</span></pre><p><span class="deltaxml-old">can give</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">json</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">object</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">pair</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">string</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">name</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">string</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">pi</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">string</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">pair</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">pair</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">string</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">value</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">number</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">3.145926</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">number</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">pair</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">object</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">json</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><h2 id="works"><span class="deltaxml-old">How it works</span></h2><p><span class="deltaxml-old">A grammar is used to describe the input format. An input is parsed using
this grammar, and the resulting parse tree is serialized as XML. Special marks
in the grammar affect details of this serialization, for example excluding
parts of the tree, or serializing parts as attributes instead of elements.</span></p><p><span class="deltaxml-old">As an example, consider this simplified grammar for URLs:</span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-old">url</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">scheme</span></span><span class="deltaxml-old">, </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">:</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">authority</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">path</span></span><span class="deltaxml-old">.

</span><span class="nt"><span class="deltaxml-old">scheme</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">.

</span><span class="nt"><span class="deltaxml-old">authority</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">//</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">host</span></span><span class="deltaxml-old">.
</span><span class="nt"><span class="deltaxml-old">host</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">sub</span></span><span class="reps"><span class="deltaxml-old">++</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">.</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
</span><span class="nt"><span class="deltaxml-old">sub</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">.

</span><span class="nt"><span class="deltaxml-old">path</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">/</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">seg</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">.
</span><span class="nt"><span class="deltaxml-old">seg</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">fletter</span></span><span class="rep"><span class="deltaxml-old">*</span></span><span class="deltaxml-old">.
</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">a</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">z</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">A</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">Z</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">0</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">9</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">fletter</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">.</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">This means that a URL consists of a </span><em><span class="deltaxml-old">scheme</span></em><span class="deltaxml-old"> (whatever that is),
followed by a colon, followed by an </span><em><span class="deltaxml-old">authority</span></em><span class="deltaxml-old">, and then a
</span><em><span class="deltaxml-old">path</span></em><span class="deltaxml-old">. A scheme, is one or more </span><em><span class="deltaxml-old">letters</span></em><span class="deltaxml-old"> (whatever a letter
is). An authority starts with two slashes, followed by a </span><em><span class="deltaxml-old">host</span></em><span class="deltaxml-old">. A host
is one or more </span><em><span class="deltaxml-old">subs</span></em><span class="deltaxml-old">, separated by points. A sub is one or more
</span><em><span class="deltaxml-old">letters</span></em><span class="deltaxml-old">. A path is a slash followed by a </span><em><span class="deltaxml-old">seg</span></em><span class="deltaxml-old">, repeated one or
more times. A seg is zero or more </span><em><span class="deltaxml-old">fletters</span></em><span class="deltaxml-old">. A letter is a lowercase
letter, an uppercase letter, or a digit. A fletter is a letter or a point.</span></p><p><span class="deltaxml-old">So, given the input string
</span><code><span class="deltaxml-old">http://www.w3.org/TR/1999/xhtml.html</span></code><span class="deltaxml-old">, this would produce the
serialization</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">url</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">scheme</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">http</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">scheme</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">:
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">authority</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">//
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">host</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">sub</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">www</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">sub</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">.
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">sub</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">w3</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">sub</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">.
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">sub</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">org</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">sub</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">host</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">authority</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">path</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      /</span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">seg</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">TR</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">seg</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      /</span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">seg</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">1999</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">seg</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      /</span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">seg</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">xhtml.html</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">seg</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">path</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">url</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><p><span class="deltaxml-old">(Here and in other examples, whitespace has been added to the XML for
legibility.)</span></p><p><span class="deltaxml-old">If the rule for </span><code><span class="deltaxml-old">letter</span></code><span class="deltaxml-old"> had not had a "-" before it, the
serialization for </span><code><span class="deltaxml-old">scheme</span></code><span class="deltaxml-old">, for instance, would have been:</span></p><pre class="xml"><span><span class="node"><span><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">scheme</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span></span><span class="children"><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">letter</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">h</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">letter</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">letter</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">t</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">letter</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">letter</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">t</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">letter</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">letter</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">p</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">letter</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span><span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">scheme</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></span></pre><p><span class="deltaxml-old">Changing the rule for </span><code><span class="deltaxml-old">scheme</span></code><span class="deltaxml-old"> to</span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-old">scheme</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">name</span></span><span class="deltaxml-old">.
</span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">name</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">would change the serialization for </span><code><span class="deltaxml-old">scheme</span></code><span class="deltaxml-old"> to:</span></p><pre class="xml"><span class="deltaxml-old">&lt;scheme name="http"/&gt;:</span></pre><p><span class="deltaxml-old">Changing the rule for </span><code><span class="deltaxml-old">scheme</span></code><span class="deltaxml-old">&nbsp;instead to:</span></p><pre class="ixml"><span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">scheme</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">would change the serialization for </span><code><span class="deltaxml-old">url</span></code><span class="deltaxml-old"> to:</span></p><pre class="xml"><span class="deltaxml-old">&lt;url scheme="http"&gt;</span></pre><p><span class="deltaxml-old">Changing the definitions of </span><code><span class="deltaxml-old">sub</span></code><span class="deltaxml-old"> and </span><code><span class="deltaxml-old">seg</span></code><span class="deltaxml-old"> from</span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-old">sub</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">.
</span><span class="nt"><span class="deltaxml-old">seg</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">fletter</span></span><span class="rep"><span class="deltaxml-old">*</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">to</span></p><pre class="ixml"><span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">sub</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">.
</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">seg</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">fletter</span></span><span class="rep"><span class="deltaxml-old">*</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">would prevent the </span><code><span class="deltaxml-old">sub</span></code><span class="deltaxml-old"> and </span><code><span class="deltaxml-old">seg</span></code><span class="deltaxml-old"> elements appearing
in the serialized result, giving:</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">url</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">scheme</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">http</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">://
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">host</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">www.w3.org</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">host</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">path</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">/TR/1999/xhtml.html</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">path</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">url</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><p><span class="deltaxml-old">Changing the rule </span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-old">url</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">scheme</span></span><span class="deltaxml-old">, </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">:</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">authority</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">path</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">to </span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-old">url</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">scheme</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">:</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">authority</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">path</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">and</span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-old">authority</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">//</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">host</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">to </span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-old">authority</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">//</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">host</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">would remove the spurious characters from the serialization:</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">url</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">scheme</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">http</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">host</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">www.w3.org</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">host</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">path</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">/TR/1999/xhtml.html</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">path</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">url</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><h2 id="grammar"><span class="deltaxml-old">The Grammar</span></h2><p><span class="deltaxml-old">Here we describe the format of the grammar used to describe documents. Note
that it is in its own format, and therefore describes itself.</span></p><p><span class="deltaxml-old">A grammar is an optional prolog, followed by a sequence of one or more
rules, surrounded and separated by spacing and comments. Spacing and comments
are entirely optional, except that rules
</span><span id="ref-s01" class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be separated by at least one of either
(</span><a class="error" href="#err-s01" shape="rect"><span class="deltaxml-old">error S01</span></a><span class="deltaxml-old">). If an input grammar
encoded in UTF-8 begins with a byte order mark (BOM), the BOM </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be
ignored.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-old">ixml</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">prolog</span></span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">rule</span></span><span class="reps"><span class="deltaxml-old">++</span></span><span class="nt"><span class="deltaxml-old">RS</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.
</span></span></pre><p><span class="deltaxml-old">An </span><code><span class="deltaxml-old">s</span></code><span class="deltaxml-old"> stands for an optional sequence of spacing and comments;
</span><code><span class="deltaxml-old">RS</span></code><span class="deltaxml-old"> for at least one space or comment. A comment is enclosed in
braces, and can included nested comments, to enable commenting out parts of a
grammar:</span></p><pre class="frag ixml"><span><span class="deltaxml-old">         </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">s</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">whitespace</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">comment</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">*</span></span><span class="deltaxml-old">. </span><span class="com"><span class="comdel"><span class="deltaxml-old">{</span></span><span class="deltaxml-old">Optional spacing</span><span class="comdel"><span class="deltaxml-old">}</span></span></span><span class="deltaxml-old">
        </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">RS</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">whitespace</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">comment</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">. </span><span class="com"><span class="comdel"><span class="deltaxml-old">{</span></span><span class="deltaxml-old">Required spacing</span><span class="comdel"><span class="deltaxml-old">}</span></span></span><span class="deltaxml-old">
</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">whitespace</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="nt"><span class="deltaxml-old">Zs</span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">tab</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">lf</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">cr</span></span><span class="deltaxml-old">.
       </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">tab</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-old">#</span></span><span class="deltaxml-old">9</span></span><span class="deltaxml-old">.
        </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">lf</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-old">#</span></span><span class="deltaxml-old">a</span></span><span class="deltaxml-old">.
        </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">cr</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-old">#</span></span><span class="deltaxml-old">d</span></span><span class="deltaxml-old">.
    </span><span class="nt"><span class="deltaxml-old">comment</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">{</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, (</span><span class="nt"><span class="deltaxml-old">cchar</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">comment</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">*</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">}</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
     </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">cchar</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">{}</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
</span></span></pre><h3 id="L3041"><span class="deltaxml-old">Prolog</span></h3><p><span class="deltaxml-old">The optional prolog declares the version of ixml being used. If absent,
version 1.0 is assumed. A grammar </span><span id="ref-s12" class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> conform to the syntax and semantics of the version
declared or assumed (</span><a class="error" href="#err-s12" shape="rect"><span class="deltaxml-old">error S12</span></a><span class="deltaxml-old">).</span></p><pre class="frag ixml"><span><span class="deltaxml-old">       </span><span class="nt"><span class="deltaxml-old">prolog</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">version</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.
      </span><span class="nt"><span class="deltaxml-old">version</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">ixml</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">RS</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">version</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">RS</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">string</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">.</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> .
</span></span></pre><p><span class="deltaxml-old">If an implementation recognizes the version string, it </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> process the grammar using the syntax and semantics
of that version.</span></p><p><span class="deltaxml-old">If it does not recognize the version string, it </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> nevertheless attempt to process the grammar. If it
finds a syntactically valid interpretation of the grammar, it </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> proceed using the semantics of the version under
which it found a valid interpretation, otherwise it </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> reject the grammar. In either case, the document
element of the serialization </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> include an
attribute named </span><code><span class="deltaxml-old">ixml:state</span></code><span class="deltaxml-old">, with the word
'</span><code><span class="deltaxml-old">version-mismatch</span></code><span class="deltaxml-old">' in its value. The ixml namespace URI is
"</span><code><span class="deltaxml-old">http://invisiblexml.org/NS</span></code><span class="deltaxml-old">".</span></p><h3 id="rules"><span class="deltaxml-old">Rules</span></h3><p><span class="deltaxml-old">A rule consists of a naming, and one or more alternatives. The
grammar here uses colons to define rules; an equals sign is also allowed.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-old">rule</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">naming</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">=:</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">alts</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">.</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A naming consists of an optional mark, a name, and an optional
alias:</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">naming</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">mark</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">name</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, (</span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">&gt;</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">alias</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A mark is one of </span><code></code><code><span class="deltaxml-old">^, @</span></code><span class="deltaxml-old"> or </span><code><span class="deltaxml-old">-</span></code><span class="deltaxml-old">, and
indicates whether the item so marked will be serialized as an element with its
children (</span><code><span class="deltaxml-old">^</span></code><span class="deltaxml-old">) which is the default, as an attribute
(</span><code><span class="deltaxml-old">@</span></code><span class="deltaxml-old">), or deleted, so that only its children are serialized
(</span><code><span class="deltaxml-old">-</span></code><span class="deltaxml-old">).</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">mark</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">@^-</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A name starts with a letter or underscore, and continues with a letter,
digit, underscore, a small number of punctuation characters, and the Unicode
combiner characters; Unicode classes are used to define the sets of characters
used, for instance, for letters and digits. This is close to, but not identical
with the XML definition of a name; it is the grammar author's responsibility to
ensure that all serialized names match the requirements for an XML name [</span><a href="#xml" shape="rect"><span class="deltaxml-old">XML</span></a><span class="deltaxml-old">].</span></p><pre class="frag ixml"><span><span class="deltaxml-old">        </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">name</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">namestart</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">namefollower</span></span><span class="rep"><span class="deltaxml-old">*</span></span><span class="deltaxml-old">.
   </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">namestart</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">_</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">L</span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">namefollower</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">namestart</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">-.·‿⁀</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">Nd</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">Mn</span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
</span></span></pre><p><span class="deltaxml-old">An alias is just a substitute name for the rule to be used at
serialization:</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">alias</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">name</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">Alternatives are separated by a semicolon or a vertical bar. The grammar
here uses semicolons.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-old">alts</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">alt</span></span><span class="reps"><span class="deltaxml-old">++</span></span><span class="deltaxml-old">(</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">;|</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">).</span></span></pre><p><span class="deltaxml-old">An alternative is zero or more terms, separated by commas:</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-old">alt</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">term</span></span><span class="reps"><span class="deltaxml-old">**</span></span><span class="deltaxml-old">(</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">,</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">).</span></span></pre><p><span class="deltaxml-old">A term is a singleton factor, an optional factor, or a repeated factor,
repeated zero or more times, or one or more times.</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">term</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
       </span><span class="nt"><span class="deltaxml-old">option</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
       </span><span class="nt"><span class="deltaxml-old">repeat0</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
       </span><span class="nt"><span class="deltaxml-old">repeat1</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A factor is a terminal, a nonterminal, an insertion, or a bracketed series
of alternatives:</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">terminal</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
         </span><span class="nt"><span class="deltaxml-old">nonterminal</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
         </span><span class="nt"><span class="deltaxml-old">insertion</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
         </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">(</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">alts</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">)</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A factor repeated zero or more times is followed by an asterisk, or followed
by a double asterisk and a separator, e.g. </span><code><span class="deltaxml-old">abc*</span></code><span class="deltaxml-old"> and
</span><code><span class="deltaxml-old">abc**","</span></code><span class="deltaxml-old">. For instance </span><code><span class="deltaxml-old">"a"**"#"</span></code><span class="deltaxml-old"> would match the empty
string, </span><code><span class="deltaxml-old">a</span></code><span class="deltaxml-old">, </span><code><span class="deltaxml-old">a#a</span></code><span class="deltaxml-old">, </span><code><span class="deltaxml-old">a#a#a</span></code><span class="deltaxml-old"> etc.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-old">repeat0</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="deltaxml-old">, (</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">*</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">**</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">sep</span></span><span class="deltaxml-old">).</span></span></pre><p><span class="deltaxml-old">Similarly, a factor repeated one or more times is followed by a plus, or a
double plus and a separator, e.g. </span><code><span class="deltaxml-old">abc+</span></code><span class="deltaxml-old"> and </span><code><span class="deltaxml-old">abc++","</span></code><span class="deltaxml-old">.
For instance </span><code><span class="deltaxml-old">"a"++"#"</span></code><span class="deltaxml-old"> would match </span><code><span class="deltaxml-old">a</span></code><span class="deltaxml-old">,
</span><code><span class="deltaxml-old">a#a</span></code><span class="deltaxml-old">, </span><code><span class="deltaxml-old">a#a#a</span></code><span class="deltaxml-old"> etc., but not the empty string.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-old">repeat1</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="deltaxml-old">, (</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">+</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">++</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">sep</span></span><span class="deltaxml-old">).</span></span></pre><p><span class="deltaxml-old">An optional factor is followed by a question mark, e.g. </span><code><span class="deltaxml-old">abc?</span></code><span class="deltaxml-old">.
For instance </span><code><span class="deltaxml-old">"a"?</span></code><span class="deltaxml-old"> would match </span><code><span class="deltaxml-old">a</span></code><span class="deltaxml-old"> or the empty
string.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-old">option</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">?</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A separator can be any factor, for example </span><code><span class="deltaxml-old">abc**def</span></code><span class="deltaxml-old"> or
</span><code><span class="deltaxml-old">abc**(","; ".")</span></code><span class="deltaxml-old">. For instance </span><code><span class="deltaxml-old">"a"++("#"; "!")</span></code><span class="deltaxml-old"> would
match </span><code><span class="deltaxml-old">a#a</span></code><span class="deltaxml-old">, </span><code><span class="deltaxml-old">a!a</span></code><span class="deltaxml-old">, </span><code><span class="deltaxml-old">a#a!a</span></code><span class="deltaxml-old">,
</span><code><span class="deltaxml-old">a!a#a</span></code><span class="deltaxml-old">, </span><code><span class="deltaxml-old">a#a#a</span></code><span class="deltaxml-old"> etc.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-old">sep</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="deltaxml-old">.</span></span></pre><h3 id="nonterminals"><span class="deltaxml-old">Nonterminals</span></h3><p><span class="deltaxml-old">A nonterminal is a naming:</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-old">nonterminal</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">naming</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">The name of the naming (but not the optional alias) refers to the rule
that defines this name, which </span><span id="ref-s02" class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> exist (</span><a class="error" href="#err-s02" shape="rect"><span class="deltaxml-old">error
S02</span></a><span class="deltaxml-old">), and there </span><span id="ref-s03" class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> only be one
such rule (</span><a class="error" href="#err-s03" shape="rect"><span class="deltaxml-old">error S03</span></a><span class="deltaxml-old">).</span></p><h3 id="terminals"><span class="deltaxml-old">Terminals</span></h3><p><span class="deltaxml-old">A terminal is a literal or a set of characters. It matches characters in the
input. A terminal marked as deleted (-) serializes to the empty string.</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">terminal</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">literal</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> 
           </span><span class="nt"><span class="deltaxml-old">charset</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A literal is either a quoted string, or a hexadecimally encoded
character:</span></p><pre class="frag ixml"><span><span class="deltaxml-old">  </span><span class="nt"><span class="deltaxml-old">literal</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">quoted</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
           </span><span class="nt"><span class="deltaxml-old">encoded</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A quoted string is an optionally marked string of one or more characters,
enclosed with single or double quotes. A string matches only the exact same
string in the input. Examples: </span><code><span class="deltaxml-old">"yes" 'yes'</span></code><span class="deltaxml-old">.</span></p><p id="ref-s11"><span class="deltaxml-old">A string cannot contain any characters from the control code character
class (</span><code><span class="deltaxml-old">Cc</span></code><span class="deltaxml-old">), including a line-break (</span><a class="error" href="#err-s11" shape="rect"><span class="deltaxml-old">error S11</span></a><span class="deltaxml-old">). The enclosing quote is represented in a string
by doubling it; these two strings are identical: </span><code><span class="deltaxml-old">'Isn''t it?'</span></code><span class="deltaxml-old"> and
</span><code><span class="deltaxml-old">"Isn't it?"</span></code><span class="deltaxml-old">, as are these: </span><code><span class="deltaxml-old">"He said ""Don't!"""</span></code><span class="deltaxml-old"> and
</span><code><span class="deltaxml-old">'He said "Don''t!"'</span></code><span class="deltaxml-old">.</span></p><pre class="frag ixml"><span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">quoted</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">tmark</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">string</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.

  </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">tmark</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">^-</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
 </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">string</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">dchar</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
          </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">schar</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
   </span><span class="nt"><span class="deltaxml-old">dchar</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">Cc</span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
          </span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old">. </span><span class="com"><span class="comdel"><span class="deltaxml-old">{</span></span><span class="deltaxml-old">all characters except controls; quotes must be doubled</span><span class="comdel"><span class="deltaxml-old">}</span></span></span><span class="deltaxml-old">
   </span><span class="nt"><span class="deltaxml-old">schar</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">Cc</span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
          </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">. </span><span class="com"><span class="comdel"><span class="deltaxml-old">{</span></span><span class="deltaxml-old">all characters except controls; quotes must be doubled</span><span class="comdel"><span class="deltaxml-old">}</span></span></span></span></pre><p id="ref-s06"><span class="deltaxml-old">An encoded character is an optionally marked hexadecimal
number. It starts with a hash symbol, followed by any number of hexadecimal
digits, for example </span><code><span class="deltaxml-old">#a0</span></code><span class="deltaxml-old">. The digits are interpreted as a number in
hexadecimal (</span><a class="error" href="#err-s06" shape="rect"><span class="deltaxml-old">error S06</span></a><span class="deltaxml-old">) , and the
character at that Unicode code-point is used [</span><a href="#unicode" shape="rect"><span class="deltaxml-old">Unicode</span></a><span class="deltaxml-old">].
The number </span><span id="ref-s07" class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be within the Unicode
code-point range (</span><a class="error" href="#err-s07" shape="rect"><span class="deltaxml-old">error S07</span></a><span class="deltaxml-old">), and </span><span id="ref-s08" class="conform"><span class="deltaxml-old">must not</span></span><span class="deltaxml-old"> denote a Noncharacter or Surrogate
code point (</span><a class="error" href="#err-s08" shape="rect"><span class="deltaxml-old">error S08</span></a><span class="deltaxml-old">).</span></p><p><span class="deltaxml-old">An encoded character matches that one character in the input.</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">encoded</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">tmark</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">#</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">hex</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.
    </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">hex</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">0</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">9</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">a</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">f</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">A</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">F</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">.
</span></span></pre><h3 id="characters"><span class="deltaxml-old">Character sets</span></h3><p><span class="deltaxml-old">A character set is an inclusion or an exclusion: an inclusion matches one
character in the input that is in the set, an exclusion matches one character
</span><em><span class="deltaxml-old">not</span></em><span class="deltaxml-old"> in the set.</span></p><p><span class="deltaxml-old">An inclusion is enclosed in square brackets, and represents the set of
characters defined by any combination of literal characters, a range of
characters, hex encoded characters, or Unicode classes. Examples
</span><code><span class="deltaxml-old">["a"-"z"]</span></code><span class="deltaxml-old">, </span><code><span class="deltaxml-old">["xyz"]</span></code><span class="deltaxml-old">, </span><code><span class="deltaxml-old">[Lc]</span></code><span class="deltaxml-old">, and
</span><code><span class="deltaxml-old">["0"-"9"; "!@#"; Lc]</span></code><span class="deltaxml-old">. Note that </span><code><span class="deltaxml-old">["abc"]</span></code><span class="deltaxml-old">, </span><code><span class="deltaxml-old">["a";
"b"; "c"]</span></code><span class="deltaxml-old">, </span><code><span class="deltaxml-old">["a"-"c"]</span></code><span class="deltaxml-old">, and </span><code><span class="deltaxml-old">[#61-#63]</span></code><span class="deltaxml-old"> all
represent the same set of characters.</span></p><p><span class="deltaxml-old">An exclusion is an inclusion preceded by a tilde </span><code><span class="deltaxml-old">~</span></code><span class="deltaxml-old">. For
example, </span><code><span class="deltaxml-old">~["{}"]</span></code><span class="deltaxml-old"> matches any character that is not an opening or
closing brace.</span></p><p><span class="deltaxml-old">Note that the empty inclusion </span><code><span class="deltaxml-old">[]</span></code><span class="deltaxml-old"> will fail to match any
character in the input; on the other hand </span><code><span class="deltaxml-old">~[]</span></code><span class="deltaxml-old"> will match any one
character, whatever it is.</span></p><pre class="frag ixml"><span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">charset</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">inclusion</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> 
           </span><span class="nt"><span class="deltaxml-old">exclusion</span></span><span class="deltaxml-old">.
</span><span class="nt"><span class="deltaxml-old">inclusion</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">tmark</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">,          </span><span class="nt"><span class="deltaxml-old">set</span></span><span class="deltaxml-old">.
</span><span class="nt"><span class="deltaxml-old">exclusion</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">tmark</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">~</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">set</span></span><span class="deltaxml-old">.
     </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">set</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">[</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">,  (</span><span class="nt"><span class="deltaxml-old">member</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="reps"><span class="deltaxml-old">**</span></span><span class="deltaxml-old">(</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">;|</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">), </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">]</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.
   </span><span class="nt"><span class="deltaxml-old">member</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">string</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
           </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">#</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">hex</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
           </span><span class="nt"><span class="deltaxml-old">range</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
           </span><span class="nt"><span class="deltaxml-old">class</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A range represents all characters in the range from the </span><code><span class="deltaxml-old">from</span></code><span class="deltaxml-old">
character to the </span><code><span class="deltaxml-old">to</span></code><span class="deltaxml-old"> character, inclusive, using the Unicode
ordering. The </span><code><span class="deltaxml-old">from</span></code><span class="deltaxml-old"> character </span><span id="ref-s09" class="conform"><span class="deltaxml-old">must not</span></span><span class="deltaxml-old"> be later in the ordering than the
</span><code><span class="deltaxml-old">to</span></code><span class="deltaxml-old"> character (</span><a class="error" href="#err-s09" shape="rect"><span class="deltaxml-old">error S09</span></a><span class="deltaxml-old">).</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">range</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">from</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">-</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">to</span></span><span class="deltaxml-old">.
 </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">from</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">character</span></span><span class="deltaxml-old">.
   </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">to</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">character</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A character is a string of length one, or a hex encoded character:</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">character</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">dchar</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
            </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">schar</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
            </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">#</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">hex</span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">A class is one or two letters, representing any character from the Unicode
character category [</span><a href="#categories" shape="rect"><span class="deltaxml-old">Categories</span></a><span class="deltaxml-old">] of that name, which
</span><span id="ref-s10" class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> exist (</span><a class="error" href="#err-s10" shape="rect"><span class="deltaxml-old">error S10</span></a><span class="deltaxml-old">). E.g. </span><code><span class="deltaxml-old">[Ll]</span></code><span class="deltaxml-old"> matches any lower-case
letter, </span><code><span class="deltaxml-old">[Ll; Lu]</span></code><span class="deltaxml-old"> matches any upper- or lower-case character.</span></p><pre class="frag"><span><span class="deltaxml-old">   </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">class</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">code</span></span><span class="deltaxml-old">.
    </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">code</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">capital</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">.
 </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">capital</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">A</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">Z</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
  </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">A</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">Z</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">a</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">z</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.</span></span></pre><h3 id="L649"><span class="deltaxml-old">Insertions</span></h3><p><span class="deltaxml-old">An insertion is a string or hex proceeded by a plus </span><code><span class="deltaxml-old">+</span></code><span class="deltaxml-old">. An
insertion matches zero characters in the input, and only appears in the
serialization.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-old">insertion</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">+</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, (</span><span class="nt"><span class="deltaxml-old">string</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">#</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">hex</span></span><span class="deltaxml-old">), </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.</span></span></pre><h2 id="parsing"><span class="deltaxml-old">Parsing</span></h2><p><span class="deltaxml-old">The root symbol of the grammar is the name of the first rule in the
grammar.</span></p><p><span class="deltaxml-old">Processors </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> accept and parse any conforming
grammar, and produce at least one parse of supplied input that matches the
grammar starting at the root symbol. If more than one parse results, one is
chosen; it is not defined how this choice is made, but the resulting
serialization </span><span class="conform"><span class="deltaxml-old">should</span></span><span class="deltaxml-old"> include the attribute
</span><code><span class="deltaxml-old">ixml:state</span></code><span class="deltaxml-old"> on the document element with a value that includes the
word </span><code><span class="deltaxml-old">ambiguous</span></code><span class="deltaxml-old">. Different processors </span><span class="conform"><span class="deltaxml-old">may</span></span><span class="deltaxml-old"> vary in whether input is detected as ambiguous or
not. Known algorithms that accept and parse any context-free grammar include
[</span><a href="#earley" shape="rect"><span class="deltaxml-old">Earley</span></a><span class="deltaxml-old">], [</span><a href="#unger" shape="rect"><span class="deltaxml-old">Unger</span></a><span class="deltaxml-old">], [</span><a href="#cyk" shape="rect"><span class="deltaxml-old">CYK</span></a><span class="deltaxml-old">], [</span><a href="#glr" shape="rect"><span class="deltaxml-old">GLR</span></a><span class="deltaxml-old">], and [</span><a href="#gll" shape="rect"><span class="deltaxml-old">GLL</span></a><span class="deltaxml-old">];
see also [</span><a href="#grune" shape="rect"><span class="deltaxml-old">Grune</span></a><span class="deltaxml-old">].</span></p><p><span class="deltaxml-old">If an input encoded in UTF-8 begins with a BOM, the BOM 
</span><span class="conform"><span class="deltaxml-old">should</span></span><span class="deltaxml-old"> be ignored.</span></p><p><span class="deltaxml-old">If the parse fails, some XML document </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be
produced with </span><code><span class="deltaxml-old">ixml:state</span></code><span class="deltaxml-old"> on the document element with a value that
includes the word </span><code><span class="deltaxml-old">failed</span></code><span class="deltaxml-old">. The document </span><span class="conform"><span class="deltaxml-old">should</span></span><span class="deltaxml-old"> provide helpful information about where and why
it failed; it </span><span class="conform"><span class="deltaxml-old">may</span></span><span class="deltaxml-old"> be a partial parse tree that
includes parts of the parse that succeeded.</span></p><h2 id="serialisation"><span class="deltaxml-old">Serialization</span></h2><p><span class="deltaxml-old">If the parse succeeds, the resulting parse-tree is serialized as XML by
serializing the root node of the parse tree.</span></p><p><span class="deltaxml-old">A parse node is one of:</span></p><ul><li><span class="deltaxml-old">a nonterminal, which has a name, an optional alias, and
    children,</span></li><li><span class="deltaxml-old">a terminal, which has a string,</span></li><li><span class="deltaxml-old">an insertion, which has a string.</span></li></ul><p><span class="deltaxml-old">A </span><strong><span class="deltaxml-old">nonterminal</span></strong><span class="deltaxml-old"> can be unmarked, or marked as included (^),
as an attribute (@), or as deleted (-). The mark comes from the use of the
nonterminal in a rule if present, and otherwise from the definition of the rule
for that nonterminal if it has a mark.</span></p><ul><li><strong><span class="deltaxml-old">Unmarked or included</span></strong><span class="deltaxml-old">: the node is serialized as an
    XML element whose:  
    </span><ul><li><span class="deltaxml-old">name is the alias of the node if present, or the alias of the
        referred-to rule, if it has one, and otherwise the name of the node,
        </span></li><li><span class="deltaxml-old">attributes are the serializations of all exposed attribute
        descendants, if any. An attribute node is exposed if it is an attribute
        child, or an exposed attribute node of a deleted child (note this is
        recursive).</span></li><li><span class="deltaxml-old">content is the serialization of all its non-attribute children
        in order, if any.</span></li></ul><span class="deltaxml-old">
  </span></li><li><strong><span class="deltaxml-old">Deleted</span></strong><span class="deltaxml-old">: all its non-attribute children, if any,
    are serialized in order.</span></li><li><strong><span class="deltaxml-old">Attribute</span></strong><span class="deltaxml-old">: the node is serialized as an XML
    attribute whose:  
    </span><ul><li><span class="deltaxml-old">name is the alias of the node if present, or the alias of the
        referred-to rule, if it has one, and otherwise the name of the node,
        </span></li><li><span class="deltaxml-old">value is the serialization of all non-deleted terminal
        descendants of the node (regardless of the marking of intermediate
        nonterminals), if any, in order.</span></li></ul><span class="deltaxml-old">
  </span></li></ul><p><span class="deltaxml-old">A </span><strong><span class="deltaxml-old">terminal</span></strong><span class="deltaxml-old"> can be unmarked, or marked as included (^),
or as deleted (-).</span></p><ul><li><strong><span class="deltaxml-old">Unmarked or included</span></strong><span class="deltaxml-old">: the node is serialized as its
    string.</span></li><li><strong><span class="deltaxml-old">Deleted</span></strong><span class="deltaxml-old">: the node is not serialized.</span></li></ul><p><span class="deltaxml-old">An </span><strong><span class="deltaxml-old">insertion</span></strong><span class="deltaxml-old"> is serialized as its string.</span></p><p><span class="deltaxml-old">An application has some latitude when serializing XML. Some aspects
of the serialization are explicitly insignificant, such as the order
of attributes on an element, whether single or double quotes are used
to delimit attributes, or whether numeric character references use
decimal or hexadecimal numbers.
Some aspects of the serialization will impact whether or not all
characters of the input are retained after the
serialized XML is parsed with a conforming XML parser (e.g. </span><code><span class="deltaxml-old">#a#d</span></code><span class="deltaxml-old"> as a line separator, or either of
those characters within attribute values) .
For a more comprehensive discussion, see
[</span><a href="#serialization" shape="rect"><span class="deltaxml-old">XML Serialization</span></a><span class="deltaxml-old">].
A conformant Invisible XML processor is required to produce
well-formed XML output, but its choices in serializing the selected parse tree
are not otherwise constrained.</span></p><span class="deltaxml-old">

say explicitly that processors may offer the kinds of options defined in the serialization spaec
indentation is a problem, make it a should</span><p><span class="deltaxml-old">Grammars </span><span id="ref-d01" class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be written so that
any serialization of a parse tree produced from the grammar is well-formed XML
(</span><a class="error" href="#err-d01" shape="rect"><span class="deltaxml-old">error D01</span></a><span class="deltaxml-old">).</span></p><p><span class="deltaxml-old">Note: This requirement means for instance that names of serialized elements
and attributes </span><span id="ref-d03" class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> match the XML
requirements (</span><a class="error" href="#err-d03" shape="rect"><span class="deltaxml-old">error D03</span></a><span class="deltaxml-old">); an element </span><span id="ref-d02" class="conform"><span class="deltaxml-old">must not</span></span><span class="deltaxml-old"> contain more than one attribute of
a given name (</span><a class="error" href="#err-d02" shape="rect"><span class="deltaxml-old">error D02</span></a><span class="deltaxml-old">); an element </span><span id="ref-d07" class="conform"><span class="deltaxml-old">must not</span></span><span class="deltaxml-old"> contain an attribute named
“xmlns” (</span><a class="error" href="#err-d07" shape="rect"><span class="deltaxml-old">error D07</span></a><span class="deltaxml-old">); the names of all
elements and attributes </span><span id="ref-d03" class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> conform
to the requirements for XML names; non-XML characters </span><span id="ref-d04" class="conform"><span class="deltaxml-old">must not</span></span><span class="deltaxml-old"> be serialized (</span><a class="error" href="#err-d04" shape="rect"><span class="deltaxml-old">error D04</span></a><span class="deltaxml-old">); a nonterminal being serialized as root element
</span><span id="ref-d05" class="conform"><span class="deltaxml-old">must not</span></span><span class="deltaxml-old"> be marked as an attribute
(</span><a class="error" href="#err-d05" shape="rect"><span class="deltaxml-old">error D05</span></a><span class="deltaxml-old">); in order to match the XML
requirement of a single-rooted document, if the root rule is marked as hidden,
all of its productions </span><span id="ref-d06" class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> produce
exactly one non-hidden non-attribute nonterminal and no non-hidden terminals
before or after that nonterminal (</span><a class="error" href="#err-d06" shape="rect"><span class="deltaxml-old">error
D06</span></a><span class="deltaxml-old">).</span></p><p><span class="deltaxml-old">A (necessarily contrived) example grammar that illustrates serialization
rules is:</span></p><pre class="ixml"><span><span class="deltaxml-old">          </span><span class="nt"><span class="deltaxml-old">expr</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">open</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">arith</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">close</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">;</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
         </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">open</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">(</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
         </span><span class="nt"><span class="deltaxml-old">close</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">)</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
         </span><span class="nt"><span class="deltaxml-old">arith</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">left</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">op</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">^</span></span><span class="nt"><span class="deltaxml-old">right</span></span><span class="deltaxml-old">&gt;</span><span class="nt"><span class="deltaxml-old">second</span></span><span class="deltaxml-old">.
    </span><span class="nt"><span class="deltaxml-old">left</span></span><span class="deltaxml-old">&gt;</span><span class="nt"><span class="deltaxml-old">first</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">operand</span></span><span class="deltaxml-old">.
        </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">right</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">operand</span></span><span class="deltaxml-old">.
      </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">operand</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">name</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">number</span></span><span class="deltaxml-old">.
         </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">name</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">a</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">z</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
       </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">number</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">0</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">9</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
           </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">op</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">sign</span></span><span class="deltaxml-old">.
</span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">sign</span></span><span class="deltaxml-old">&gt;</span><span class="nt"><span class="deltaxml-old">operator</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">+</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">-</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">Applied to the string </span><code><span class="deltaxml-old">(a+1);</span></code><span class="deltaxml-old"> it yields the serialization</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">expr</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">open</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">(</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">operator</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">+</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">close</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">)</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">first</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">a</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">second</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">1</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">second</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">expr</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><p><span class="deltaxml-old">Points to note: how the semicolon is suppressed from the serialization; the
two ways </span><code><span class="deltaxml-old">open</span></code><span class="deltaxml-old"> and </span><code><span class="deltaxml-old">close</span></code><span class="deltaxml-old"> have been defined as
attributes; similarly the two ways </span><code><span class="deltaxml-old">left</span></code><span class="deltaxml-old"> and </span><code><span class="deltaxml-old">right</span></code><span class="deltaxml-old">
have been defined as elements, and the two ways they have been
renamed; how </span><code><span class="deltaxml-old">number</span></code><span class="deltaxml-old"> appears as content and not as an
attribute; and how </span><code><span class="deltaxml-old">sign</span></code><span class="deltaxml-old"> being an exposed attribute appears on its
nearest non-hidden ancestor, and has been renamed. Also of note is
how the content of some attributes can appear earlier in the serialization than
in the input.</span></p><p><span class="deltaxml-old">Insertions allow characters to be inserted into the serialization that were
not present in the input. For instance, the grammar</span></p><pre class="ixml"><span><span class="deltaxml-old">  </span><span class="nt"><span class="deltaxml-old">data</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">value</span></span><span class="reps"><span class="deltaxml-old">++</span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">,</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">source</span></span><span class="deltaxml-old">.
</span><span class="nt"><span class="deltaxml-old">source</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="rep"><span class="deltaxml-old">+</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">ixml</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
 </span><span class="nt"><span class="deltaxml-old">value</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">pos</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">neg</span></span><span class="deltaxml-old">.
  </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">pos</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="rep"><span class="deltaxml-old">+</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">+</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">digit</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">.
  </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">neg</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="rep"><span class="deltaxml-old">+</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">-</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">(</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">digit</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">)</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">digit</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">0</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">9</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.</span></span></pre><p><span class="deltaxml-old">With input:</span></p><pre><span class="deltaxml-old">100,200,(300),400</span></pre><p><span class="deltaxml-old">would produce</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">data</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">source</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">ixml</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">+100</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">+200</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">-300</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">+400</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">value</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">data</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><h2 id="conformance"><span class="deltaxml-old">Conformance</span></h2><p><em><span class="deltaxml-old">In this specification, the verb "must" expresses unconditional
requirements for conformance to the specification; the verb "should" expresses
requirements that are encouraged but which are not conditions of conformance;
the verb "may" expresses optional features which are neither required nor
prohibited.</span></em></p><p><span class="deltaxml-old">Conformance to this specification can meaningfully be claimed for grammars
and for processors; it cannot be claimed for input streams or input + grammar
pairs.</span></p><h3 id="grammarconformance"><span class="deltaxml-old">Conformance of grammars</span></h3><p><span class="deltaxml-old">An ixml grammar in ixml form conforms to this specification if it is
described by the grammar given in this specification, and it satisfies all the
other requirements specified for ixml grammars.</span></p><p><span class="deltaxml-old">An ixml grammar in XML form conforms to this specification if, after removal
of namespace qualified elements and attributes, it can be derived from an ixml
grammar in ixml form by parsing as described in this specification, and it
satisfies all the other requirements specified for ixml grammars.</span></p><p><span class="deltaxml-old">Note: The normative formulations of conformance requirements are those given
elsewhere in this specification. For convenience the requirements that go
beyond what is expressed in the grammar itself can be summarized as follows.
(Reasonable effort has been used to make this list complete, but omission of
any conformance requirement from this list does not affect its status as a
conformance requirement.)</span></p><ul><li><span class="deltaxml-old">Every nonterminal used in the right-hand side of any rule </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be defined by a single rule.</span></li><li><span class="deltaxml-old">Any character class used </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be one that is
    listed in the Unicode specification.</span></li><li><span class="deltaxml-old">The number represented in a hex encoding of a character </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be within the Unicode character range, and
    </span><span class="conform"><span class="deltaxml-old">must not</span></span><span class="deltaxml-old"> denote a Noncharacter or Surrogate
    code point.</span></li><li><span class="deltaxml-old">The </span><code><span class="deltaxml-old">from</span></code><span class="deltaxml-old"> character of a range </span><span class="conform"><span class="deltaxml-old">must
    not</span></span><span class="deltaxml-old"> be later in the Unicode ordering than the </span><code><span class="deltaxml-old">to</span></code><span class="deltaxml-old">
    character.</span></li><li><span class="deltaxml-old">Any serialization of a parse tree produced from the grammar </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be well-formed XML.</span></li></ul><h3 id="processorconformance"><span class="deltaxml-old">Conformance of processors</span></h3><p><span class="deltaxml-old">A conforming processor </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> accept grammars in
ixml form, and </span><span class="conform"><span class="deltaxml-old">should</span></span><span class="deltaxml-old"> accept grammars in XML form;
it </span><span class="conform"><span class="deltaxml-old">must not</span></span><span class="deltaxml-old"> accept non-conforming grammars. Both
grammars and input </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be accepted in UTF-8
encoding, and </span><span class="conform"><span class="deltaxml-old">may</span></span><span class="deltaxml-old"> be accepted in other
encodings.</span></p><p><span class="deltaxml-old">For any conforming grammar and any input, under normal operation: </span></p><ul><li><span class="deltaxml-old">Processors </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> parse by default the entire
    input using the grammar, determining in the process whether or not the
    input is described by the grammar. Processors </span><span class="conform"><span class="deltaxml-old">may</span></span><span class="deltaxml-old"> provide user options for other behaviors, such
    as parsing the largest, or smallest, prefix of the input that is described
    by the grammar, or supporting invocation with input streams of
    indeterminate length.</span></li><li><span class="deltaxml-old">If the input is unambiguously described by the grammar, the resulting
    parse tree </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> be serialized to an XML
    document.</span></li><li><span class="deltaxml-old">If more than one parse tree describes the input, the processor </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> serialize one of them. It is not defined how
    this choice is made, but the resulting serialization </span><span class="conform"><span class="deltaxml-old">should</span></span><span class="deltaxml-old"> by default include the attribute
    </span><code><span class="deltaxml-old">ixml:state</span></code><span class="deltaxml-old"> on the document element with a value that includes
    the word </span><code><span class="deltaxml-old">ambiguous</span></code><span class="deltaxml-old">. Processors </span><span class="conform"><span class="deltaxml-old">may</span></span><span class="deltaxml-old"> provide a user option to suppress that
    attribute; they </span><span class="conform"><span class="deltaxml-old">may</span></span><span class="deltaxml-old"> also provide a user option
    to produce more than one parse tree.</span></li><li><span class="deltaxml-old">If the input is not described by the grammar, the processor </span><span class="conform"><span class="deltaxml-old">must</span></span><span class="deltaxml-old"> produce some XML document with the attribute
    </span><code><span class="deltaxml-old">ixml:state</span></code><span class="deltaxml-old"> on the document element with a value that includes
    the word </span><code><span class="deltaxml-old">failed</span></code><span class="deltaxml-old">, with helpful information about where and why
    it failed; it </span><span class="conform"><span class="deltaxml-old">may</span></span><span class="deltaxml-old"> be a partial parse tree that
    includes parts of the parse that succeeded.</span></li><li><span class="deltaxml-old">If a prefix of the input is described by the grammar, processors </span><span class="conform"><span class="deltaxml-old">may</span></span><span class="deltaxml-old"> choose either to produce a failure document as
    described above, or to serialize the resulting parse tree with the
    attribute </span><code><span class="deltaxml-old">ixml:state</span></code><span class="deltaxml-old"> containing the word </span><code><span class="deltaxml-old">prefix</span></code><span class="deltaxml-old">,
    or if the parse is ambiguous, the words </span><code><span class="deltaxml-old">ambiguous prefix</span></code><span class="deltaxml-old">.</span></li><li><span class="deltaxml-old">If the input was processed as a different version of ixml than that
    required by the prolog, the </span><code><span class="deltaxml-old">ixml:state</span></code><span class="deltaxml-old"> attribute must include
    the word </span><code><span class="deltaxml-old">version-mismatch</span></code><span class="deltaxml-old">. </span></li><li><span class="deltaxml-old">The form in which XML documents are produced is not constrained by this
    specification; processors </span><span class="conform"><span class="deltaxml-old">should</span></span><span class="deltaxml-old"> be capable of
    producing serialized XML as a character stream, but other forms (e.g. DOM
    instances or XDM instances) </span><span class="conform"><span class="deltaxml-old">may</span></span><span class="deltaxml-old"> also be
  used.</span></li></ul><h2 id="hints"><span class="deltaxml-old">Hints for Implementers</span></h2><p><span class="deltaxml-old">Many parsing algorithms only mention terminals and nonterminals, and don't
explain how to deal with the repetition constructs used in ixml. However, these
can be handled simply by converting them to equivalent simple constructs. In
the examples below, </span><code><span class="deltaxml-old">f</span></code><span class="deltaxml-old"> and </span><code><span class="deltaxml-old">sep</span></code><span class="deltaxml-old"> are
</span><code><span class="deltaxml-old">factors</span></code><span class="deltaxml-old"> from the grammar above. The other nonterminals are
generated nonterminals.</span></p><p><span class="deltaxml-old">Optional factor:</span></p><pre><span class="deltaxml-old">f? ⇒ f-option
-f-option: f; ().</span></pre><p><span class="deltaxml-old">Zero or more repetitions:</span></p><pre><span class="deltaxml-old">f* ⇒ f-star
-f-star: (f, f-star)?.</span></pre><p><span class="deltaxml-old">One or more repetitions:</span></p><pre><span class="deltaxml-old">f+ ⇒ f-plus
-f-plus: f, f*.</span></pre><p><span class="deltaxml-old">One or more repetitions with separator:</span></p><pre><span class="deltaxml-old">f++sep ⇒ f-plus-sep
-f-plus-sep: f, (sep, f)*.</span></pre><p><span class="deltaxml-old">Zero or more repetitions with separator:</span></p><pre><span class="deltaxml-old">f**sep ⇒ f-star-sep
-f-star-sep: (f++sep)?.</span></pre><p><span class="deltaxml-old">Implementers should pay particular attention to serializing whitespace and
other control characters. Consider, for example, the case where the
characters </span><code><span class="deltaxml-old">#a</span></code><span class="deltaxml-old"> or </span><code><span class="deltaxml-old">#d</span></code><span class="deltaxml-old"> appear in a value
serialized as an attribute. When that serialized XML is parsed, the
XML parser will replace </span><code><span class="deltaxml-old">#a</span></code><span class="deltaxml-old"> and </span><code><span class="deltaxml-old">#d</span></code><span class="deltaxml-old"> characters
with spaces when it performs whitespace normalization on the attribute
value. Similarly, the sequence </span><code><span class="deltaxml-old">#d#a</span></code><span class="deltaxml-old"> will be translated to
a single </span><code><span class="deltaxml-old">#a</span></code><span class="deltaxml-old"> by standard XML parsing. If the user of the
grammar expects to see the original characters in the XML output, it
will be necessary to encode them using numeric character references
when serializing the XML output. If on the other hand the user does
</span><em><span class="deltaxml-old">not</span></em><span class="deltaxml-old"> expect to see the original characters in the output, then
carefully preserving them using numeric character references is likely
to be unhelpful. See [</span><a href="#serialization" shape="rect"><span class="deltaxml-old">Serialization</span></a><span class="deltaxml-old">] for
detailed discussions.</span></p><h2 id="complete"><span class="deltaxml-old">Complete Grammar</span></h2><p><span class="deltaxml-old">The </span><a href="ixml.ixml.html" shape="rect"><span class="deltaxml-old">complete grammar</span></a><span class="deltaxml-old"> for ixml:</span></p><pre><span><span class="deltaxml-old">         </span><span class="nt"><span class="deltaxml-old">ixml</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">prolog</span></span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">rule</span></span><span class="reps"><span class="deltaxml-old">++</span></span><span class="nt"><span class="deltaxml-old">RS</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.

           </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">s</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">whitespace</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">comment</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">*</span></span><span class="deltaxml-old">. </span><span class="com"><span class="comdel"><span class="deltaxml-old">{</span></span><span class="deltaxml-old">Optional spacing</span><span class="comdel"><span class="deltaxml-old">}</span></span></span><span class="deltaxml-old">
          </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">RS</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">whitespace</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">comment</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">. </span><span class="com"><span class="comdel"><span class="deltaxml-old">{</span></span><span class="deltaxml-old">Required spacing</span><span class="comdel"><span class="deltaxml-old">}</span></span></span><span class="deltaxml-old">
  </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">whitespace</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="nt"><span class="deltaxml-old">Zs</span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">tab</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">lf</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">cr</span></span><span class="deltaxml-old">.
         </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">tab</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-old">#</span></span><span class="deltaxml-old">9</span></span><span class="deltaxml-old">.
          </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">lf</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-old">#</span></span><span class="deltaxml-old">a</span></span><span class="deltaxml-old">.
          </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">cr</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-old">#</span></span><span class="deltaxml-old">d</span></span><span class="deltaxml-old">.
      </span><span class="nt"><span class="deltaxml-old">comment</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">{</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, (</span><span class="nt"><span class="deltaxml-old">cchar</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">comment</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">*</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">}</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
       </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">cchar</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">{}</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.

       </span><span class="nt"><span class="deltaxml-old">prolog</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">version</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.
      </span><span class="nt"><span class="deltaxml-old">version</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">ixml</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">RS</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">version</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">RS</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">string</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">.</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> .

         </span><span class="nt"><span class="deltaxml-old">rule</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">naming</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">=:</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">alts</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">.</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
      </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">naming</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">mark</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">name</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, (</span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">&gt;</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">alias</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">.
        </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">name</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">namestart</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">namefollower</span></span><span class="rep"><span class="deltaxml-old">*</span></span><span class="deltaxml-old">.
   </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">namestart</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">_</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">L</span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">namefollower</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">namestart</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">-.·‿⁀</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">Nd</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">Mn</span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.

       </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">alias</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">name</span></span><span class="deltaxml-old">.
         </span><span class="nt"><span class="deltaxml-old">alts</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">alt</span></span><span class="reps"><span class="deltaxml-old">++</span></span><span class="deltaxml-old">(</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">;|</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">).
          </span><span class="nt"><span class="deltaxml-old">alt</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">term</span></span><span class="reps"><span class="deltaxml-old">**</span></span><span class="deltaxml-old">(</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">,</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">).
        </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">term</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="nt"><span class="deltaxml-old">option</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="nt"><span class="deltaxml-old">repeat0</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="nt"><span class="deltaxml-old">repeat1</span></span><span class="deltaxml-old">.
      </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">terminal</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="nt"><span class="deltaxml-old">nonterminal</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="nt"><span class="deltaxml-old">insertion</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">(</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">alts</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">)</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.
      </span><span class="nt"><span class="deltaxml-old">repeat0</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="deltaxml-old">, (</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">*</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">**</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">sep</span></span><span class="deltaxml-old">).
      </span><span class="nt"><span class="deltaxml-old">repeat1</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="deltaxml-old">, (</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">+</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">++</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">sep</span></span><span class="deltaxml-old">).
       </span><span class="nt"><span class="deltaxml-old">option</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">?</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.
        </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">mark</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">@^-</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
          </span><span class="nt"><span class="deltaxml-old">sep</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">factor</span></span><span class="deltaxml-old">.
  </span><span class="nt"><span class="deltaxml-old">nonterminal</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">naming</span></span><span class="deltaxml-old">.
    </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">terminal</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">literal</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> 
               </span><span class="nt"><span class="deltaxml-old">charset</span></span><span class="deltaxml-old">.
      </span><span class="nt"><span class="deltaxml-old">literal</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">quoted</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="nt"><span class="deltaxml-old">encoded</span></span><span class="deltaxml-old">.
      </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">quoted</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">tmark</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">string</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.

       </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">tmark</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">^-</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
      </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">string</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">dchar</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">schar</span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">.
        </span><span class="nt"><span class="deltaxml-old">dchar</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">Cc</span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old">. </span><span class="com"><span class="comdel"><span class="deltaxml-old">{</span></span><span class="deltaxml-old">all characters except controls; quotes must be doubled</span><span class="comdel"><span class="deltaxml-old">}</span></span></span><span class="deltaxml-old">
        </span><span class="nt"><span class="deltaxml-old">schar</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">Cc</span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">. </span><span class="com"><span class="comdel"><span class="deltaxml-old">{</span></span><span class="deltaxml-old">all characters except controls; quotes must be doubled</span><span class="comdel"><span class="deltaxml-old">}</span></span></span><span class="deltaxml-old">
     </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">encoded</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">tmark</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">#</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">hex</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.
         </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">hex</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">0</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">9</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">a</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">f</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">A</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">F</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="rep"><span class="deltaxml-old">+</span></span><span class="deltaxml-old">.

     </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">charset</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">inclusion</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> 
               </span><span class="nt"><span class="deltaxml-old">exclusion</span></span><span class="deltaxml-old">.
    </span><span class="nt"><span class="deltaxml-old">inclusion</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">tmark</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">,          </span><span class="nt"><span class="deltaxml-old">set</span></span><span class="deltaxml-old">.
    </span><span class="nt"><span class="deltaxml-old">exclusion</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> (</span><span class="nt"><span class="deltaxml-old">tmark</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">~</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">set</span></span><span class="deltaxml-old">.
         </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">set</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">[</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">,  (</span><span class="nt"><span class="deltaxml-old">member</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">)</span><span class="reps"><span class="deltaxml-old">**</span></span><span class="deltaxml-old">(</span><span class="mark"><span class="deltaxml-old">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">;|</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">), </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">]</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.
       </span><span class="nt"><span class="deltaxml-old">member</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">string</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">#</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">hex</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="nt"><span class="deltaxml-old">range</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="nt"><span class="deltaxml-old">class</span></span><span class="deltaxml-old">.
       </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">range</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">from</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">-</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">to</span></span><span class="deltaxml-old">.
        </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">from</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">character</span></span><span class="deltaxml-old">.
          </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">to</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">character</span></span><span class="deltaxml-old">.
   </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">character</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">dchar</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">'</span></span><span class="deltaxml-old">"</span><span class="strdel"><span class="deltaxml-old">'</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">schar</span></span><span class="deltaxml-old">, </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">'</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old">
               </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">#</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">hex</span></span><span class="deltaxml-old">.
       </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">class</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">code</span></span><span class="deltaxml-old">.
        </span><span class="mark"><span class="deltaxml-old">@</span></span><span class="nt"><span class="deltaxml-old">code</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="nt"><span class="deltaxml-old">capital</span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="rep"><span class="deltaxml-old">?</span></span><span class="deltaxml-old">.
     </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">capital</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">A</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">Z</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
      </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="nt"><span class="deltaxml-old">letter</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="set"><span class="setdel"><span class="deltaxml-old">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">A</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">Z</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">a</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">z</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="setdel"><span class="deltaxml-old">]</span></span></span><span class="deltaxml-old">.
    </span><span class="nt"><span class="deltaxml-old">insertion</span></span><span class="col"><span class="deltaxml-old">:</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">+</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">, (</span><span class="nt"><span class="deltaxml-old">string</span></span><span class="alt"><span class="deltaxml-old">;</span></span><span class="deltaxml-old"> </span><span class="mark"><span class="deltaxml-old">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-old">"</span></span><span class="deltaxml-old">#</span><span class="strdel"><span class="deltaxml-old">"</span></span></span><span class="deltaxml-old">, </span><span class="nt"><span class="deltaxml-old">hex</span></span><span class="deltaxml-old">), </span><span class="nt"><span class="deltaxml-old">s</span></span><span class="deltaxml-old">.
</span></span></pre><h2 id="ixml"><span class="deltaxml-old">IXML in IXML</span></h2><p><span class="deltaxml-old">Since the ixml grammar is expressed in its own notation, the above grammar
can be processed into an XML document by parsing it using itself, and then
serializing. Note that all semantically significant terminals are recorded in
attributes, and non-significant characters are not serialized. An
abbreviated serialization is shown below, but the </span><a href="ixml.xml.html" shape="rect"><span class="deltaxml-old">entire
serialization</span></a><span class="deltaxml-old"> is available:</span></p><pre><span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">ixml</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">ixml</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">s</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">option</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
            </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">prolog</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">option</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">repeat1</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
            </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">rule</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
            </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">sep</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
               </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">RS</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
            </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">sep</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">repeat1</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">s</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">mark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">s</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">repeat0</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
            </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alts</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
               </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">whitespace</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
               </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
               </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">comment</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
               </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
            </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alts</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">repeat0</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">comment</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">Optional spacing</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">comment</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">mark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">RS</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">repeat1</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
            </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alts</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
               </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">whitespace</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
               </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
               </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">comment</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
               </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
            </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alts</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">repeat1</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">comment</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">Required spacing</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">comment</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">mark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">whitespace</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">inclusion</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
            </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">member</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">code</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">Zs</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">inclusion</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">tab</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">lf</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">cr</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">mark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">tab</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">literal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">hex</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">9</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">mark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">lf</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">literal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">hex</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">a</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">mark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">cr</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">literal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">hex</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">d</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">comment</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">literal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">string</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">{</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">repeat0</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
            </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alts</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
               </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">cchar</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
               </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
               </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">comment</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
               </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
            </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alts</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">repeat0</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">literal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">string</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">}</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">mark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">cchar</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">exclusion</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
            </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">member</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">string</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">{}</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">exclusion</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">prolog</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">version</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">s</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">version</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">literal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">string</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">ixml</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">RS</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">literal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">string</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">version</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">RS</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">string</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">s</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">literal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">string</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">.</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">rule</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
      </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">naming</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="text"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">inclusion</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">&gt;</span></span><span class="deltaxml-old">
            </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">member</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">string</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">=:</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">inclusion</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">s</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">nonterminal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">mark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">name</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">alts</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
         </span><span class="empty"><span class="stag"><span class="deltaxml-old">&lt;</span></span><span class="gi"><span class="deltaxml-old">literal</span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">tmark</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">-</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="deltaxml-old"> </span><span class="attr"><span class="aname"><span class="deltaxml-old">string</span></span><span class="eq"><span class="deltaxml-old">=</span></span><span class="q"><span class="deltaxml-old">'</span></span><span class="avalue"><span class="deltaxml-old">.</span></span><span class="q"><span class="deltaxml-old">'</span></span></span><span class="stag"><span class="deltaxml-old">/&gt;</span></span></span><span class="deltaxml-old">
      </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">alt</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   </span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">rule</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span><span class="deltaxml-old">
   &lt;!--  Many more rules here… --&gt;
</span><span class="etag"><span class="deltaxml-old">&lt;/</span></span><span class="gi"><span class="deltaxml-old">ixml</span></span><span class="etag"><span class="deltaxml-old">&gt;</span></span></span></span></pre><h2 id="errors"><span class="deltaxml-old">Errors</span></h2><p><span class="deltaxml-old">This section summarizes errors identified in this specification. Static
errors are errors that can be identified by inspecting the grammar.</span></p><dl id="static-errors"><dt id="err-s01"><a href="#ref-s01" shape="rect"><span class="deltaxml-old">S01</span></a></dt><dd><span class="deltaxml-old">It is an error if two rules are not separated by at least one
      whitespace character or comment.</span></dd><dt id="err-s02"><a href="#ref-s02" shape="rect"><span class="deltaxml-old">S02</span></a></dt><dd><span class="deltaxml-old">It is an error to use a nonterminal name that is not defined by a rule
      in the grammar.</span></dd><dt id="err-s03"><a href="#ref-s03" shape="rect"><span class="deltaxml-old">S03</span></a></dt><dd><span class="deltaxml-old">It is an error if the grammar contains more than one rule for a given
      nonterminal name.</span></dd><dt id="err-s06"><a href="#ref-s06" shape="rect"><span class="deltaxml-old">S06</span></a></dt><dd><span class="deltaxml-old">It is an error if a hex encoding uses any characters not allowed in
      hexadecimal.</span></dd><dt id="err-s07"><a href="#ref-s07" shape="rect"><span class="deltaxml-old">S07</span></a></dt><dd><span class="deltaxml-old">It is an error if the hexadecimal value is not within the Unicode
      code-point range.</span></dd><dt id="err-s08"><a href="#ref-s08" shape="rect"><span class="deltaxml-old">S08</span></a></dt><dd><span class="deltaxml-old">It is an error if an encoded character denotes a Unicode noncharacter
      or surrogate code point.</span></dd><dt id="err-s09"><a href="#ref-s09" shape="rect"><span class="deltaxml-old">S09</span></a></dt><dd><span class="deltaxml-old">It is an error if the first character in a range has a code point value
      greater than the second character in the range.</span></dd><dt id="err-s10"><a href="#ref-s10" shape="rect"><span class="deltaxml-old">S10</span></a></dt><dd><span class="deltaxml-old">It is an error to use a Unicode character category that is not defined
      in the Unicode specification.</span></dd><dt id="err-s11"><a href="#ref-s11" shape="rect"><span class="deltaxml-old">S11</span></a></dt><dd><span class="deltaxml-old">It is an error if a string contains a C0 or C1 control character,
    including a line break.</span></dd><dt id="err-s12"><a href="#ref-s12" shape="rect"><span class="deltaxml-old">S12</span></a></dt><dd><span class="deltaxml-old">It is an error if the grammar does not conform to the implied or
      declared version.</span></dd></dl><p><span class="deltaxml-old">Dynamic errors arise when a particular input is processed with a grammar.</span></p><dl id="dynamic-errors"><dt id="err-d01"><a href="#ref-d01" shape="rect"><span class="deltaxml-old">D01</span></a></dt><dd><span class="deltaxml-old">It is an error if the parse tree produced by a grammar cannot be
      represented as well-formed XML.</span></dd><dt id="err-d02"><a href="#ref-d02" shape="rect"><span class="deltaxml-old">D02</span></a></dt><dd><span class="deltaxml-old">It is an error if two or more attributes with the same name would be
      serialized on the same element.</span></dd><dt id="err-d03"><a href="#ref-d03" shape="rect"><span class="deltaxml-old">D03</span></a></dt><dd><span class="deltaxml-old">It is an error if the name of any element or attribute is not a valid
      XML name.</span></dd><dt id="err-d04"><a href="#ref-d04" shape="rect"><span class="deltaxml-old">D04</span></a></dt><dd><span class="deltaxml-old">It is an error to attempt to serialize as XML any characters that are
      not permitted in XML.</span></dd><dt id="err-d05"><a href="#ref-d05" shape="rect"><span class="deltaxml-old">D05</span></a></dt><dd><span class="deltaxml-old">It is an error to attempt to serialize an attribute as the root node of
      an XML document.</span></dd><dt id="err-d06"><a href="#ref-d06" shape="rect"><span class="deltaxml-old">D06</span></a></dt><dd><span class="deltaxml-old">It is an error if the parse tree does not contain exactly one top-level
      element.</span></dd><dt id="err-d07"><a href="#ref-d07" shape="rect"><span class="deltaxml-old">D07</span></a></dt><dd><span class="deltaxml-old">It is an error if an attribute named “xmlns” appears on an
    element.</span></dd></dl><p><span class="deltaxml-old">Note: if error codes are reported in a context where it makes sense for them
to appear in a namespace, they </span><span class="conform"><span class="deltaxml-old">should</span></span><span class="deltaxml-old"> be in the
Invisible XML namespace.</span></p><h2 id="references"><span class="deltaxml-old">References</span></h2><p id="unicode"><span class="deltaxml-old">[Unicode] The Unicode Consortium (ed.), </span><em><span class="deltaxml-old">The Unicode
Standard — Version 13.0</span></em><span class="deltaxml-old">. Unicode Consortium, 2020, ISBN
978-1-936213-26-9, </span><a href="http://www.unicode.org/versions/Unicode13.0.0/" shape="rect"><span class="deltaxml-old">http://www.unicode.org/versions/Unicode13.0.0/</span></a></p><p id="categories"><span class="deltaxml-old">[Categories] The Unicode Consortium (ed.), </span><em><span class="deltaxml-old">Unicode
Standard Annex #44: Unicode Character Database -- General Category Values</span></em><span class="deltaxml-old">
</span><a href="https://unicode.org/reports/tr44/#General_Category_Values" shape="rect"><span class="deltaxml-old">https://unicode.org/reports/tr44/#General_Category_Values</span></a><span class="deltaxml-old">
(See also </span><a href="http://www.fileformat.info/info/unicode/category/index.htm" shape="rect"><span class="deltaxml-old">http://www.fileformat.info/info/unicode/category/index.htm</span></a><span class="deltaxml-old">)</span></p><p id="xml"><span class="deltaxml-old">[XML] Tim Bray </span><em><span class="deltaxml-old">et al</span></em><span class="deltaxml-old">. (eds.), </span><em><span class="deltaxml-old">Extensible Markup
Language (XML) 1.0 (Fifth Edition)</span></em><span class="deltaxml-old">, W3C, 2008, </span><a href="https://www.w3.org/TR/xml/" shape="rect"><span class="deltaxml-old">https://www.w3.org/TR/xml/</span></a></p><h2 id="L3425"><span class="deltaxml-old">Informational References</span></h2><p id="cyk"><span class="deltaxml-old">[CYK] Sakai, Itiroo. </span><em><span class="deltaxml-old">Syntax in universal translation</span></em><span class="deltaxml-old">. In
1961 International Conference on Machine Translation of Languages and Applied
Language Analysis, pages 593–608. </span><a href="https://aclanthology.org/www.mt-archive.info/50/NPL-1961-Sakai.pdf" shape="rect"><span class="deltaxml-old">https://aclanthology.org/www.mt-archive.info/50/NPL-1961-Sakai.pdf</span></a></p><p id="earley"><span class="deltaxml-old">[Earley] Earley, J. </span><em><span class="deltaxml-old">An efficient context-free parsing
algorithm</span></em><span class="deltaxml-old">. Communications of the ACM, 13(2):94–102, February 1970, </span><a href="doi:/home/steven/Common/web/localhost/ixml/10.1145/362007.362035" shape="rect"><span class="deltaxml-old">doi:10.1145/362007.362035</span></a></p><p id="gll"><span class="deltaxml-old">[GLL] Elizabeth Scott and Adrian Johnstone, </span><em><span class="deltaxml-old">GLL Parsing</span></em><span class="deltaxml-old">.
Electronic Notes in Theoretical Computer Science, Volume 253, Issue 7, 17
September 2010, pages 177-189. </span><a href="doi:10.1016/j.entcs.2010.08.041" shape="rect"><span class="deltaxml-old">doi:10.1016/j.entcs.2010.08.041</span></a></p><p id="glr"><span class="deltaxml-old">[GLR] Masaru Tomita. </span><em><span class="deltaxml-old">Generalized LR Parsing</span></em><span class="deltaxml-old">. Springer
Science &amp; Business Media. ISBN 978-1-4615-4034-2. </span><a href="doi:10.1007/978-1-4615-4034-2" shape="rect"><span class="deltaxml-old">doi:10.1007/978-1-4615-4034-2</span></a></p><p id="grune"><span class="deltaxml-old">[Grune] Grune, D. and Jacobs, C. </span><em><span class="deltaxml-old">Parsing techniques : a
practical guide (2nd ed.)</span></em><span class="deltaxml-old">. New York: Springer, 2008. ISBN
978-0-387-20248-8. </span><a href="https://dickgrune.com/Books/PTAPG_2nd_Edition/CompleteList.pdf" shape="rect"><span class="deltaxml-old">https://dickgrune.com/Books/PTAPG_2nd_Edition/CompleteList.pdf</span></a></p><p id="serialization"><span class="deltaxml-old">[XML Serialization] Andrew Coleman and C. M. Sperberg-McQueen (eds.)
</span><em><span class="deltaxml-old">XSLT and XQuery Serialization 3.1</span></em><span class="deltaxml-old">. W3C, 2017,
</span><a href="https://www.w3.org/TR/xslt-xquery-serialization-31/" shape="rect"><span class="deltaxml-old">https://www.w3.org/TR/xslt-xquery-serialization-31/</span></a></p><p id="unger"><span class="deltaxml-old">[Unger] Unger, S. H. </span><em><span class="deltaxml-old">A global parser for context-free phrase
structure grammars</span></em><span class="deltaxml-old">. Communications of the ACM, 11(4):240–247, April
1968, </span><a href="doi:10.1145/362991.363001" shape="rect"><span class="deltaxml-old">doi:10.1145/362991.363001</span></a></p><p id="control"><span class="deltaxml-old">[Control] Wikipedia, </span><em><span class="deltaxml-old">C0 and C1 control codes</span></em><span class="deltaxml-old">,
</span><a href="https://en.wikipedia.org/wiki/C0_and_C1_control_codes" shape="rect"><span class="deltaxml-old">https://en.wikipedia.org/wiki/C0_and_C1_control_codes</span></a><span class="deltaxml-old">.</span></p><h2 id="acknowledgments"><span class="deltaxml-old">Acknowledgements</span></h2><p><span class="deltaxml-old">This specification was produced by members of the W3C ixml community group:
Tomos Hillman, John Lumley, Steven Pemberton, C. M. Sperberg-McQueen, Bethan
Tovey-Walsh, Norman Tovey-Walsh. Other current and former members of the group
have also contributed.</span></p><p><span class="deltaxml-old">Thanks are due to Hans-Dieter Hiep for an early close reading of the
specification, and consequent many helpful comments.</span></p><footer class="docid"><p><span class="dt"><span class="deltaxml-old">Document build #39 for invisibleXML/ixml at </span><time datetime="2023-11-28T15:46:23GMT+00:00" title="2023-11-28T15:46:23GMT+00:00"><span class="deltaxml-old">15:46 on 28 November 2023</span></time></span><span class="deltaxml-old"> </span><span class="bh"><span title="6a6b05bc9f6a55e902f3c93165949661a9bbfdc6"><span class="deltaxml-old">6a6b05bc</span></span></span></p></footer></body><body><main><h1><span class="deltaxml-new">Invisible XML Specification</span></h1><p><span class="deltaxml-new">Editor: Steven Pemberton, CWI, Amsterdam</span></p><p><span class="deltaxml-new">Version: 2023-11-28</span></p><p><span class="deltaxml-new">Please consult the </span><a href="errata.html" shape="rect"><span class="deltaxml-new">errata page</span></a><span class="deltaxml-new"> for
additional changes to the specification after publication.</span></p><p><span class="deltaxml-new">A version with automatically generated change
    markup </span><a href="autodiff.html" shape="rect"><span class="deltaxml-new">is available</span></a><span class="deltaxml-new">. Change markup shows
    the differences between </span><a href="index.html" shape="rect"><span class="deltaxml-new">this version</span></a><span class="deltaxml-new"> of the
    specification and the
    </span><a href="https://invisiblexml.org/current/" shape="rect"><span class="deltaxml-new">current version</span></a><span class="deltaxml-new"> (at the
    time of publication).</span></p><h2 id="status"><span class="deltaxml-new">Status</span></h2><p><span class="deltaxml-new">This document describes ixml version 1.0++, a work in progress.
It reflects corrections to errata found in the published text of ixml
1.0, and may in due course be published as an updated specification.
The current official version is
</span><a href="https://invisiblexml.org/1.0/" shape="rect"><span class="deltaxml-new">Invisible XML 1.0</span></a><span class="deltaxml-new">.</span></p><div class="toc"><div class="checkboxes"><span class="deltaxml-new">Show section numbers </span><label class="switch" for="sectnum"><input type="checkbox" id="sectnum"><div class="slider round"></div></label></div><ul><li><span class="sectnum"><span class="deltaxml-new">1. </span></span><a href="#introduction" shape="rect"><span class="deltaxml-new">Introduction</span></a></li><li><span class="sectnum"><span class="deltaxml-new">2. </span></span><a href="#works" shape="rect"><span class="deltaxml-new">How it works</span></a></li><li><span class="sectnum"><span class="deltaxml-new">3. </span></span><a href="#grammar" shape="rect"><span class="deltaxml-new">The Grammar</span></a><ul><li><span class="sectnum"><span class="deltaxml-new">3.1. </span></span><a href="#L3041" shape="rect"><span class="deltaxml-new">Prolog</span></a></li><li><span class="sectnum"><span class="deltaxml-new">3.2. </span></span><a href="#rules" shape="rect"><span class="deltaxml-new">Rules</span></a></li><li><span class="sectnum"><span class="deltaxml-new">3.3. </span></span><a href="#nonterminals" shape="rect"><span class="deltaxml-new">Nonterminals</span></a></li><li><span class="sectnum"><span class="deltaxml-new">3.4. </span></span><a href="#terminals" shape="rect"><span class="deltaxml-new">Terminals</span></a></li><li><span class="sectnum"><span class="deltaxml-new">3.5. </span></span><a href="#characters" shape="rect"><span class="deltaxml-new">Character sets</span></a></li><li><span class="sectnum"><span class="deltaxml-new">3.6. </span></span><a href="#L649" shape="rect"><span class="deltaxml-new">Insertions</span></a></li></ul></li><li><span class="sectnum"><span class="deltaxml-new">4. </span></span><a href="#parsing" shape="rect"><span class="deltaxml-new">Parsing</span></a></li><li><span class="sectnum"><span class="deltaxml-new">5. </span></span><a href="#serialisation" shape="rect"><span class="deltaxml-new">Serialization</span></a></li><li><span class="sectnum"><span class="deltaxml-new">6. </span></span><a href="#conformance" shape="rect"><span class="deltaxml-new">Conformance</span></a><ul><li><span class="sectnum"><span class="deltaxml-new">6.7. </span></span><a href="#grammarconformance" shape="rect"><span class="deltaxml-new">Conformance of grammars</span></a></li><li><span class="sectnum"><span class="deltaxml-new">6.8. </span></span><a href="#processorconformance" shape="rect"><span class="deltaxml-new">Conformance of processors</span></a></li></ul></li><li><span class="sectnum"><span class="deltaxml-new">7. </span></span><a href="#hints" shape="rect"><span class="deltaxml-new">Hints for Implementers</span></a></li><li><span class="sectnum"><span class="deltaxml-new">8. </span></span><a href="#complete" shape="rect"><span class="deltaxml-new">Complete Grammar</span></a></li><li><span class="sectnum"><span class="deltaxml-new">9. </span></span><a href="#ixml" shape="rect"><span class="deltaxml-new">IXML in IXML</span></a></li><li><span class="sectnum"><span class="deltaxml-new">10. </span></span><a href="#errors" shape="rect"><span class="deltaxml-new">Errors</span></a></li><li><span class="sectnum"><span class="deltaxml-new">11. </span></span><a href="#references" shape="rect"><span class="deltaxml-new">References</span></a></li><li><span class="sectnum"><span class="deltaxml-new">12. </span></span><a href="#L3425" shape="rect"><span class="deltaxml-new">Informational References</span></a></li><li><span class="sectnum"><span class="deltaxml-new">13. </span></span><a href="#acknowledgments" shape="rect"><span class="deltaxml-new">Acknowledgements</span></a></li></ul></div><h2 id="introduction"><span class="sectnum"><span class="deltaxml-new">1. </span></span><span class="deltaxml-new">Introduction</span></h2><p><span class="deltaxml-new">Data is an abstraction: there is no essential difference between the JSON</span></p><pre><span class="deltaxml-new">{"temperature": {"scale": "C", "value": 21}}</span></pre><p><span class="deltaxml-new">and an equivalent XML</span></p><pre class="xml"><span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">temperature</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">scale</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">C</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">value</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">21</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span></span></pre><p><span class="deltaxml-new">or</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">temperature</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">scale</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">C</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">scale</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">21</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">temperature</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><p><span class="deltaxml-new">since the underlying abstractions being represented are the same. </span></p><p><span class="deltaxml-new">We choose which representations of our data to use, CSV, JSON, XML, or
whatever, depending on habit, convenience, and the context in which it occurs.
On the other hand, having an interoperable generic toolchain such as that
provided by XML to process data is of immense value. How do we resolve the
conflicting requirements of convenience, habit, and context, and still enable a
generic toolchain? </span></p><p><span class="deltaxml-new">Invisible XML (ixml) is a method for treating non-XML documents as if they
were XML, enabling authors to write documents and data in a format they prefer
while providing XML for processes that are more effective with XML content. For
example, it can turn CSS code like</span></p><pre><span class="deltaxml-new">body {color: blue; font-weight: bold}</span></pre><p><span class="deltaxml-new">into XML like</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">css</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">selector</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">body</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">selector</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">block</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">property</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
            </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">name</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">color</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">name</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
            </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">blue</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">property</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">property</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
            </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">name</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">font-weight</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">name</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
            </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">bold</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">property</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">block</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">css</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><p><span class="deltaxml-new">or, if preferred, as:</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">css</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">simple-selector</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">body</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">property</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">color</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">value</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">blue</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">property</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">font-weight</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">value</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">bold</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">css</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><p><span class="deltaxml-new">As another example, the expression</span></p><pre><span class="deltaxml-new">pi×(10+b)</span></pre><p><span class="deltaxml-new">can result in the XML</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">prod</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">id</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">pi</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">id</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">sum</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">number</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">10</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">number</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">id</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">b</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">id</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">sum</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">prod</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><p><span class="deltaxml-new">or</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">prod</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">id</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">pi</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">sum</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">number</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">value</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">10</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">id</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">b</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">sum</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">prod</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><p><span class="deltaxml-new">and the URL</span></p><pre><span class="deltaxml-new">http://www.w3.org/TR/1999/xhtml.html</span></pre><p><span class="deltaxml-new">can give</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">url</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">scheme</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">http</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">authority</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">host</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">sub</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">www</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">sub</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">w3</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">sub</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">org</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">host</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">authority</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">path</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">seg</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">sname</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">TR</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">seg</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">sname</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">1999</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">seg</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">sname</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">xhtml.html</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">path</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">url</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><p><span class="deltaxml-new">or</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">url</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">scheme</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">http</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">host</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">www.w3.org</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">host</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">path</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">/TR/1999/xhtml.html</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">path</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">url</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><p><span class="deltaxml-new">The JSON value:</span></p><pre><span class="deltaxml-new">{"name": "pi", "value": 3.145926}</span></pre><p><span class="deltaxml-new">can give</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">json</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">object</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">pair</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">string</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">name</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">string</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">pi</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">string</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">pair</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">pair</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">string</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">value</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">number</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">3.145926</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">number</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">pair</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">object</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">json</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><h2 id="works"><span class="sectnum"><span class="deltaxml-new">2. </span></span><span class="deltaxml-new">How it works</span></h2><p><span class="deltaxml-new">A grammar is used to describe the input format. An input is parsed using
this grammar, and the resulting parse tree is serialized as XML. Special marks
in the grammar affect details of this serialization, for example excluding
parts of the tree, or serializing parts as attributes instead of elements.</span></p><p><span class="deltaxml-new">As an example, consider this simplified grammar for URLs:</span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-new">url</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">scheme</span></span><span class="deltaxml-new">, </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">:</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">authority</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">path</span></span><span class="deltaxml-new">.

</span><span class="nt"><span class="deltaxml-new">scheme</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">.

</span><span class="nt"><span class="deltaxml-new">authority</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">//</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">host</span></span><span class="deltaxml-new">.
</span><span class="nt"><span class="deltaxml-new">host</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">sub</span></span><span class="reps"><span class="deltaxml-new">++</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">.</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
</span><span class="nt"><span class="deltaxml-new">sub</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">.

</span><span class="nt"><span class="deltaxml-new">path</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">/</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">seg</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">.
</span><span class="nt"><span class="deltaxml-new">seg</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">fletter</span></span><span class="rep"><span class="deltaxml-new">*</span></span><span class="deltaxml-new">.
</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">a</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">z</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">A</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">Z</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">0</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">9</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">fletter</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">.</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">This means that a URL consists of a </span><em><span class="deltaxml-new">scheme</span></em><span class="deltaxml-new"> (whatever that is),
followed by a colon, followed by an </span><em><span class="deltaxml-new">authority</span></em><span class="deltaxml-new">, and then a
</span><em><span class="deltaxml-new">path</span></em><span class="deltaxml-new">. A scheme, is one or more </span><em><span class="deltaxml-new">letters</span></em><span class="deltaxml-new"> (whatever a letter
is). An authority starts with two slashes, followed by a </span><em><span class="deltaxml-new">host</span></em><span class="deltaxml-new">. A host
is one or more </span><em><span class="deltaxml-new">subs</span></em><span class="deltaxml-new">, separated by points. A sub is one or more
</span><em><span class="deltaxml-new">letters</span></em><span class="deltaxml-new">. A path is a slash followed by a </span><em><span class="deltaxml-new">seg</span></em><span class="deltaxml-new">, repeated one or
more times. A seg is zero or more </span><em><span class="deltaxml-new">fletters</span></em><span class="deltaxml-new">. A letter is a lowercase
letter, an uppercase letter, or a digit. A fletter is a letter or a point.</span></p><p><span class="deltaxml-new">So, given the input string
</span><code><span class="deltaxml-new">http://www.w3.org/TR/1999/xhtml.html</span></code><span class="deltaxml-new">, this would produce the
serialization</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">url</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">scheme</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">http</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">scheme</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">:
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">authority</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">//
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">host</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">sub</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">www</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">sub</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">.
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">sub</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">w3</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">sub</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">.
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">sub</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">org</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">sub</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">host</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">authority</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">path</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      /</span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">seg</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">TR</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">seg</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      /</span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">seg</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">1999</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">seg</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      /</span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">seg</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">xhtml.html</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">seg</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">path</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">url</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><p><span class="deltaxml-new">(Here and in other examples, whitespace has been added to the XML for
legibility.)</span></p><p><span class="deltaxml-new">If the rule for </span><code><span class="deltaxml-new">letter</span></code><span class="deltaxml-new"> had not had a "-" before it, the
serialization for </span><code><span class="deltaxml-new">scheme</span></code><span class="deltaxml-new">, for instance, would have been:</span></p><pre class="xml"><span><span class="node"><span><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">scheme</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span></span><span class="children"><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">letter</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">h</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">letter</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">letter</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">t</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">letter</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">letter</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">t</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">letter</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">letter</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">p</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">letter</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span><span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">scheme</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></span></pre><p><span class="deltaxml-new">Changing the rule for </span><code><span class="deltaxml-new">scheme</span></code><span class="deltaxml-new"> to</span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-new">scheme</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">name</span></span><span class="deltaxml-new">.
</span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">name</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">would change the serialization for </span><code><span class="deltaxml-new">scheme</span></code><span class="deltaxml-new"> to:</span></p><pre class="xml"><span class="deltaxml-new">&lt;scheme name="http"/&gt;:</span></pre><p><span class="deltaxml-new">Changing the rule for </span><code><span class="deltaxml-new">scheme</span></code><span class="deltaxml-new">&nbsp;instead to:</span></p><pre class="ixml"><span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">scheme</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">would change the serialization for </span><code><span class="deltaxml-new">url</span></code><span class="deltaxml-new"> to:</span></p><pre class="xml"><span class="deltaxml-new">&lt;url scheme="http"&gt;</span></pre><p><span class="deltaxml-new">Changing the definitions of </span><code><span class="deltaxml-new">sub</span></code><span class="deltaxml-new"> and </span><code><span class="deltaxml-new">seg</span></code><span class="deltaxml-new"> from</span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-new">sub</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">.
</span><span class="nt"><span class="deltaxml-new">seg</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">fletter</span></span><span class="rep"><span class="deltaxml-new">*</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">to</span></p><pre class="ixml"><span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">sub</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">.
</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">seg</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">fletter</span></span><span class="rep"><span class="deltaxml-new">*</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">would prevent the </span><code><span class="deltaxml-new">sub</span></code><span class="deltaxml-new"> and </span><code><span class="deltaxml-new">seg</span></code><span class="deltaxml-new"> elements appearing
in the serialized result, giving:</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">url</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">scheme</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">http</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">://
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">host</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">www.w3.org</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">host</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">path</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">/TR/1999/xhtml.html</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">path</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">url</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><p><span class="deltaxml-new">Changing the rule </span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-new">url</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">scheme</span></span><span class="deltaxml-new">, </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">:</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">authority</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">path</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">to </span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-new">url</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">scheme</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">:</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">authority</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">path</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">and</span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-new">authority</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">//</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">host</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">to </span></p><pre class="ixml"><span><span class="nt"><span class="deltaxml-new">authority</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">//</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">host</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">would remove the spurious characters from the serialization:</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">url</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">scheme</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">http</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">host</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">www.w3.org</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">host</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">path</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">/TR/1999/xhtml.html</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">path</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">url</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><h2 id="grammar"><span class="sectnum"><span class="deltaxml-new">3. </span></span><span class="deltaxml-new">The Grammar</span></h2><p><span class="deltaxml-new">Here we describe the format of the grammar used to describe documents. Note
that it is in its own format, and therefore describes itself.</span></p><p><span class="deltaxml-new">A grammar is an optional prolog, followed by a sequence of one or more
rules, surrounded and separated by spacing and comments. Spacing and comments
are entirely optional, except that rules
</span><span id="ref-s01" class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be separated by at least one of either
(</span><a class="error" href="#err-s01" shape="rect"><span class="deltaxml-new">error S01</span></a><span class="deltaxml-new">). If an input grammar
encoded in UTF-8 begins with a byte order mark (BOM), the BOM </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be
ignored.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-new">ixml</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">prolog</span></span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">rule</span></span><span class="reps"><span class="deltaxml-new">++</span></span><span class="nt"><span class="deltaxml-new">RS</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.
</span></span></pre><p><span class="deltaxml-new">An </span><code><span class="deltaxml-new">s</span></code><span class="deltaxml-new"> stands for an optional sequence of spacing and comments;
</span><code><span class="deltaxml-new">RS</span></code><span class="deltaxml-new"> for at least one space or comment. A comment is enclosed in
braces, and can included nested comments, to enable commenting out parts of a
grammar:</span></p><pre class="frag ixml"><span><span class="deltaxml-new">         </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">s</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">whitespace</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">comment</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">*</span></span><span class="deltaxml-new">. </span><span class="com"><span class="comdel"><span class="deltaxml-new">{</span></span><span class="deltaxml-new">Optional spacing</span><span class="comdel"><span class="deltaxml-new">}</span></span></span><span class="deltaxml-new">
        </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">RS</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">whitespace</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">comment</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">. </span><span class="com"><span class="comdel"><span class="deltaxml-new">{</span></span><span class="deltaxml-new">Required spacing</span><span class="comdel"><span class="deltaxml-new">}</span></span></span><span class="deltaxml-new">
</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">whitespace</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="nt"><span class="deltaxml-new">Zs</span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">tab</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">lf</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">cr</span></span><span class="deltaxml-new">.
       </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">tab</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-new">#</span></span><span class="deltaxml-new">9</span></span><span class="deltaxml-new">.
        </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">lf</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-new">#</span></span><span class="deltaxml-new">a</span></span><span class="deltaxml-new">.
        </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">cr</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-new">#</span></span><span class="deltaxml-new">d</span></span><span class="deltaxml-new">.
    </span><span class="nt"><span class="deltaxml-new">comment</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">{</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, (</span><span class="nt"><span class="deltaxml-new">cchar</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">comment</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">*</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">}</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
     </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">cchar</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">{}</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
</span></span></pre><h3 id="L3041"><span class="sectnum"><span class="deltaxml-new">3.1. </span></span><span class="deltaxml-new">Prolog</span></h3><p><span class="deltaxml-new">The optional prolog declares the version of ixml being used. If absent,
version 1.0 is assumed. A grammar </span><span id="ref-s12" class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> conform to the syntax and semantics of the version
declared or assumed (</span><a class="error" href="#err-s12" shape="rect"><span class="deltaxml-new">error S12</span></a><span class="deltaxml-new">).</span></p><pre class="frag ixml"><span><span class="deltaxml-new">       </span><span class="nt"><span class="deltaxml-new">prolog</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">version</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.
      </span><span class="nt"><span class="deltaxml-new">version</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">ixml</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">RS</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">version</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">RS</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">string</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">.</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> .
</span></span></pre><p><span class="deltaxml-new">If an implementation recognizes the version string, it </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> process the grammar using the syntax and semantics
of that version.</span></p><p><span class="deltaxml-new">If it does not recognize the version string, it </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> nevertheless attempt to process the grammar. If it
finds a syntactically valid interpretation of the grammar, it </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> proceed using the semantics of the version under
which it found a valid interpretation, otherwise it </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> reject the grammar. In either case, the document
element of the serialization </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> include an
attribute named </span><code><span class="deltaxml-new">ixml:state</span></code><span class="deltaxml-new">, with the word
'</span><code><span class="deltaxml-new">version-mismatch</span></code><span class="deltaxml-new">' in its value. The ixml namespace URI is
"</span><code><span class="deltaxml-new">http://invisiblexml.org/NS</span></code><span class="deltaxml-new">".</span></p><h3 id="rules"><span class="sectnum"><span class="deltaxml-new">3.2. </span></span><span class="deltaxml-new">Rules</span></h3><p><span class="deltaxml-new">A rule consists of a naming, and one or more alternatives. The
grammar here uses colons to define rules; an equals sign is also allowed.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-new">rule</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">naming</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">=:</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">alts</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">.</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A naming consists of an optional mark, a name, and an optional
alias:</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">naming</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">mark</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">name</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, (</span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">&gt;</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">alias</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A mark is one of </span><code></code><code><span class="deltaxml-new">^, @</span></code><span class="deltaxml-new"> or </span><code><span class="deltaxml-new">-</span></code><span class="deltaxml-new">, and
indicates whether the item so marked will be serialized as an element with its
children (</span><code><span class="deltaxml-new">^</span></code><span class="deltaxml-new">) which is the default, as an attribute
(</span><code><span class="deltaxml-new">@</span></code><span class="deltaxml-new">), or deleted, so that only its children are serialized
(</span><code><span class="deltaxml-new">-</span></code><span class="deltaxml-new">).</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">mark</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">@^-</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A name starts with a letter or underscore, and continues with a letter,
digit, underscore, a small number of punctuation characters, and the Unicode
combiner characters; Unicode classes are used to define the sets of characters
used, for instance, for letters and digits. This is close to, but not identical
with the XML definition of a name; it is the grammar author's responsibility to
ensure that all serialized names match the requirements for an XML name [</span><a href="#xml" shape="rect"><span class="deltaxml-new">XML</span></a><span class="deltaxml-new">].</span></p><pre class="frag ixml"><span><span class="deltaxml-new">        </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">name</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">namestart</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">namefollower</span></span><span class="rep"><span class="deltaxml-new">*</span></span><span class="deltaxml-new">.
   </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">namestart</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">_</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">L</span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">namefollower</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">namestart</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">-.·‿⁀</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">Nd</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">Mn</span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
</span></span></pre><p><span class="deltaxml-new">An alias is just a substitute name for the rule to be used at
serialization:</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">alias</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">name</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">Alternatives are separated by a semicolon or a vertical bar. The grammar
here uses semicolons.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-new">alts</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">alt</span></span><span class="reps"><span class="deltaxml-new">++</span></span><span class="deltaxml-new">(</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">;|</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">).</span></span></pre><p><span class="deltaxml-new">An alternative is zero or more terms, separated by commas:</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-new">alt</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">term</span></span><span class="reps"><span class="deltaxml-new">**</span></span><span class="deltaxml-new">(</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">,</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">).</span></span></pre><p><span class="deltaxml-new">A term is a singleton factor, an optional factor, or a repeated factor,
repeated zero or more times, or one or more times.</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">term</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
       </span><span class="nt"><span class="deltaxml-new">option</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
       </span><span class="nt"><span class="deltaxml-new">repeat0</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
       </span><span class="nt"><span class="deltaxml-new">repeat1</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A factor is a terminal, a nonterminal, an insertion, or a bracketed series
of alternatives:</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">terminal</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
         </span><span class="nt"><span class="deltaxml-new">nonterminal</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
         </span><span class="nt"><span class="deltaxml-new">insertion</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
         </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">(</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">alts</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">)</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A factor repeated zero or more times is followed by an asterisk, or followed
by a double asterisk and a separator, e.g. </span><code><span class="deltaxml-new">abc*</span></code><span class="deltaxml-new"> and
</span><code><span class="deltaxml-new">abc**","</span></code><span class="deltaxml-new">. For instance </span><code><span class="deltaxml-new">"a"**"#"</span></code><span class="deltaxml-new"> would match the empty
string, </span><code><span class="deltaxml-new">a</span></code><span class="deltaxml-new">, </span><code><span class="deltaxml-new">a#a</span></code><span class="deltaxml-new">, </span><code><span class="deltaxml-new">a#a#a</span></code><span class="deltaxml-new"> etc.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-new">repeat0</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="deltaxml-new">, (</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">*</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">**</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">sep</span></span><span class="deltaxml-new">).</span></span></pre><p><span class="deltaxml-new">Similarly, a factor repeated one or more times is followed by a plus, or a
double plus and a separator, e.g. </span><code><span class="deltaxml-new">abc+</span></code><span class="deltaxml-new"> and </span><code><span class="deltaxml-new">abc++","</span></code><span class="deltaxml-new">.
For instance </span><code><span class="deltaxml-new">"a"++"#"</span></code><span class="deltaxml-new"> would match </span><code><span class="deltaxml-new">a</span></code><span class="deltaxml-new">,
</span><code><span class="deltaxml-new">a#a</span></code><span class="deltaxml-new">, </span><code><span class="deltaxml-new">a#a#a</span></code><span class="deltaxml-new"> etc., but not the empty string.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-new">repeat1</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="deltaxml-new">, (</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">+</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">++</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">sep</span></span><span class="deltaxml-new">).</span></span></pre><p><span class="deltaxml-new">An optional factor is followed by a question mark, e.g. </span><code><span class="deltaxml-new">abc?</span></code><span class="deltaxml-new">.
For instance </span><code><span class="deltaxml-new">"a"?</span></code><span class="deltaxml-new"> would match </span><code><span class="deltaxml-new">a</span></code><span class="deltaxml-new"> or the empty
string.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-new">option</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">?</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A separator can be any factor, for example </span><code><span class="deltaxml-new">abc**def</span></code><span class="deltaxml-new"> or
</span><code><span class="deltaxml-new">abc**(","; ".")</span></code><span class="deltaxml-new">. For instance </span><code><span class="deltaxml-new">"a"++("#"; "!")</span></code><span class="deltaxml-new"> would
match </span><code><span class="deltaxml-new">a#a</span></code><span class="deltaxml-new">, </span><code><span class="deltaxml-new">a!a</span></code><span class="deltaxml-new">, </span><code><span class="deltaxml-new">a#a!a</span></code><span class="deltaxml-new">,
</span><code><span class="deltaxml-new">a!a#a</span></code><span class="deltaxml-new">, </span><code><span class="deltaxml-new">a#a#a</span></code><span class="deltaxml-new"> etc.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-new">sep</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="deltaxml-new">.</span></span></pre><h3 id="nonterminals"><span class="sectnum"><span class="deltaxml-new">3.3. </span></span><span class="deltaxml-new">Nonterminals</span></h3><p><span class="deltaxml-new">A nonterminal is a naming:</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-new">nonterminal</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">naming</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">The name of the naming (but not the optional alias) refers to the rule
that defines this name, which </span><span id="ref-s02" class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> exist (</span><a class="error" href="#err-s02" shape="rect"><span class="deltaxml-new">error
S02</span></a><span class="deltaxml-new">), and there </span><span id="ref-s03" class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> only be one
such rule (</span><a class="error" href="#err-s03" shape="rect"><span class="deltaxml-new">error S03</span></a><span class="deltaxml-new">).</span></p><h3 id="terminals"><span class="sectnum"><span class="deltaxml-new">3.4. </span></span><span class="deltaxml-new">Terminals</span></h3><p><span class="deltaxml-new">A terminal is a literal or a set of characters. It matches characters in the
input. A terminal marked as deleted (-) serializes to the empty string.</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">terminal</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">literal</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> 
           </span><span class="nt"><span class="deltaxml-new">charset</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A literal is either a quoted string, or a hexadecimally encoded
character:</span></p><pre class="frag ixml"><span><span class="deltaxml-new">  </span><span class="nt"><span class="deltaxml-new">literal</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">quoted</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
           </span><span class="nt"><span class="deltaxml-new">encoded</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A quoted string is an optionally marked string of one or more characters,
enclosed with single or double quotes. A string matches only the exact same
string in the input. Examples: </span><code><span class="deltaxml-new">"yes" 'yes'</span></code><span class="deltaxml-new">.</span></p><p id="ref-s11"><span class="deltaxml-new">A string cannot contain any characters from the control code character
class (</span><code><span class="deltaxml-new">Cc</span></code><span class="deltaxml-new">), including a line-break (</span><a class="error" href="#err-s11" shape="rect"><span class="deltaxml-new">error S11</span></a><span class="deltaxml-new">). The enclosing quote is represented in a string
by doubling it; these two strings are identical: </span><code><span class="deltaxml-new">'Isn''t it?'</span></code><span class="deltaxml-new"> and
</span><code><span class="deltaxml-new">"Isn't it?"</span></code><span class="deltaxml-new">, as are these: </span><code><span class="deltaxml-new">"He said ""Don't!"""</span></code><span class="deltaxml-new"> and
</span><code><span class="deltaxml-new">'He said "Don''t!"'</span></code><span class="deltaxml-new">.</span></p><pre class="frag ixml"><span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">quoted</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">tmark</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">string</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.

  </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">tmark</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">^-</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
 </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">string</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">dchar</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
          </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">schar</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
   </span><span class="nt"><span class="deltaxml-new">dchar</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">Cc</span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
          </span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new">. </span><span class="com"><span class="comdel"><span class="deltaxml-new">{</span></span><span class="deltaxml-new">all characters except controls; quotes must be doubled</span><span class="comdel"><span class="deltaxml-new">}</span></span></span><span class="deltaxml-new">
   </span><span class="nt"><span class="deltaxml-new">schar</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">Cc</span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
          </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">. </span><span class="com"><span class="comdel"><span class="deltaxml-new">{</span></span><span class="deltaxml-new">all characters except controls; quotes must be doubled</span><span class="comdel"><span class="deltaxml-new">}</span></span></span></span></pre><p id="ref-s06"><span class="deltaxml-new">An encoded character is an optionally marked hexadecimal
number. It starts with a hash symbol, followed by any number of hexadecimal
digits, for example </span><code><span class="deltaxml-new">#a0</span></code><span class="deltaxml-new">. The digits are interpreted as a number in
hexadecimal (</span><a class="error" href="#err-s06" shape="rect"><span class="deltaxml-new">error S06</span></a><span class="deltaxml-new">) , and the
character at that Unicode code-point is used [</span><a href="#unicode" shape="rect"><span class="deltaxml-new">Unicode</span></a><span class="deltaxml-new">].
The number </span><span id="ref-s07" class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be within the Unicode
code-point range (</span><a class="error" href="#err-s07" shape="rect"><span class="deltaxml-new">error S07</span></a><span class="deltaxml-new">), and </span><span id="ref-s08" class="conform"><span class="deltaxml-new">must not</span></span><span class="deltaxml-new"> denote a Noncharacter or Surrogate
code point (</span><a class="error" href="#err-s08" shape="rect"><span class="deltaxml-new">error S08</span></a><span class="deltaxml-new">).</span></p><p><span class="deltaxml-new">An encoded character matches that one character in the input.</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">encoded</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">tmark</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">#</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">hex</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.
    </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">hex</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">0</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">9</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">a</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">f</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">A</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">F</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">.
</span></span></pre><h3 id="characters"><span class="sectnum"><span class="deltaxml-new">3.5. </span></span><span class="deltaxml-new">Character sets</span></h3><p><span class="deltaxml-new">A character set is an inclusion or an exclusion: an inclusion matches one
character in the input that is in the set, an exclusion matches one character
</span><em><span class="deltaxml-new">not</span></em><span class="deltaxml-new"> in the set.</span></p><p><span class="deltaxml-new">An inclusion is enclosed in square brackets, and represents the set of
characters defined by any combination of literal characters, a range of
characters, hex encoded characters, or Unicode classes. Examples
</span><code><span class="deltaxml-new">["a"-"z"]</span></code><span class="deltaxml-new">, </span><code><span class="deltaxml-new">["xyz"]</span></code><span class="deltaxml-new">, </span><code><span class="deltaxml-new">[Lc]</span></code><span class="deltaxml-new">, and
</span><code><span class="deltaxml-new">["0"-"9"; "!@#"; Lc]</span></code><span class="deltaxml-new">. Note that </span><code><span class="deltaxml-new">["abc"]</span></code><span class="deltaxml-new">, </span><code><span class="deltaxml-new">["a";
"b"; "c"]</span></code><span class="deltaxml-new">, </span><code><span class="deltaxml-new">["a"-"c"]</span></code><span class="deltaxml-new">, and </span><code><span class="deltaxml-new">[#61-#63]</span></code><span class="deltaxml-new"> all
represent the same set of characters.</span></p><p><span class="deltaxml-new">An exclusion is an inclusion preceded by a tilde </span><code><span class="deltaxml-new">~</span></code><span class="deltaxml-new">. For
example, </span><code><span class="deltaxml-new">~["{}"]</span></code><span class="deltaxml-new"> matches any character that is not an opening or
closing brace.</span></p><p><span class="deltaxml-new">Note that the empty inclusion </span><code><span class="deltaxml-new">[]</span></code><span class="deltaxml-new"> will fail to match any
character in the input; on the other hand </span><code><span class="deltaxml-new">~[]</span></code><span class="deltaxml-new"> will match any one
character, whatever it is.</span></p><pre class="frag ixml"><span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">charset</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">inclusion</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> 
           </span><span class="nt"><span class="deltaxml-new">exclusion</span></span><span class="deltaxml-new">.
</span><span class="nt"><span class="deltaxml-new">inclusion</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">tmark</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">,          </span><span class="nt"><span class="deltaxml-new">set</span></span><span class="deltaxml-new">.
</span><span class="nt"><span class="deltaxml-new">exclusion</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">tmark</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">~</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">set</span></span><span class="deltaxml-new">.
     </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">set</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">[</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">,  (</span><span class="nt"><span class="deltaxml-new">member</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="reps"><span class="deltaxml-new">**</span></span><span class="deltaxml-new">(</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">;|</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">), </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">]</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.
   </span><span class="nt"><span class="deltaxml-new">member</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">string</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
           </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">#</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">hex</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
           </span><span class="nt"><span class="deltaxml-new">range</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
           </span><span class="nt"><span class="deltaxml-new">class</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A range represents all characters in the range from the </span><code><span class="deltaxml-new">from</span></code><span class="deltaxml-new">
character to the </span><code><span class="deltaxml-new">to</span></code><span class="deltaxml-new"> character, inclusive, using the Unicode
ordering. The </span><code><span class="deltaxml-new">from</span></code><span class="deltaxml-new"> character </span><span id="ref-s09" class="conform"><span class="deltaxml-new">must not</span></span><span class="deltaxml-new"> be later in the ordering than the
</span><code><span class="deltaxml-new">to</span></code><span class="deltaxml-new"> character (</span><a class="error" href="#err-s09" shape="rect"><span class="deltaxml-new">error S09</span></a><span class="deltaxml-new">).</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">range</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">from</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">-</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">to</span></span><span class="deltaxml-new">.
 </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">from</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">character</span></span><span class="deltaxml-new">.
   </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">to</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">character</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A character is a string of length one, or a hex encoded character:</span></p><pre class="frag ixml"><span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">character</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">dchar</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
            </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">schar</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
            </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">#</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">hex</span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">A class is one or two letters, representing any character from the Unicode
character category [</span><a href="#categories" shape="rect"><span class="deltaxml-new">Categories</span></a><span class="deltaxml-new">] of that name, which
</span><span id="ref-s10" class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> exist (</span><a class="error" href="#err-s10" shape="rect"><span class="deltaxml-new">error S10</span></a><span class="deltaxml-new">). E.g. </span><code><span class="deltaxml-new">[Ll]</span></code><span class="deltaxml-new"> matches any lower-case
letter, </span><code><span class="deltaxml-new">[Ll; Lu]</span></code><span class="deltaxml-new"> matches any upper- or lower-case character.</span></p><pre class="frag"><span><span class="deltaxml-new">   </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">class</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">code</span></span><span class="deltaxml-new">.
    </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">code</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">capital</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">.
 </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">capital</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">A</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">Z</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
  </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">A</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">Z</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">a</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">z</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.</span></span></pre><h3 id="L649"><span class="sectnum"><span class="deltaxml-new">3.6. </span></span><span class="deltaxml-new">Insertions</span></h3><p><span class="deltaxml-new">An insertion is a string or hex proceeded by a plus </span><code><span class="deltaxml-new">+</span></code><span class="deltaxml-new">. An
insertion matches zero characters in the input, and only appears in the
serialization.</span></p><pre class="frag ixml"><span><span class="nt"><span class="deltaxml-new">insertion</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">+</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, (</span><span class="nt"><span class="deltaxml-new">string</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">#</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">hex</span></span><span class="deltaxml-new">), </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.</span></span></pre><h2 id="parsing"><span class="sectnum"><span class="deltaxml-new">4. </span></span><span class="deltaxml-new">Parsing</span></h2><p><span class="deltaxml-new">The root symbol of the grammar is the name of the first rule in the
grammar.</span></p><p><span class="deltaxml-new">Processors </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> accept and parse any conforming
grammar, and produce at least one parse of supplied input that matches the
grammar starting at the root symbol. If more than one parse results, one is
chosen; it is not defined how this choice is made, but the resulting
serialization </span><span class="conform"><span class="deltaxml-new">should</span></span><span class="deltaxml-new"> include the attribute
</span><code><span class="deltaxml-new">ixml:state</span></code><span class="deltaxml-new"> on the document element with a value that includes the
word </span><code><span class="deltaxml-new">ambiguous</span></code><span class="deltaxml-new">. Different processors </span><span class="conform"><span class="deltaxml-new">may</span></span><span class="deltaxml-new"> vary in whether input is detected as ambiguous or
not. Known algorithms that accept and parse any context-free grammar include
[</span><a href="#earley" shape="rect"><span class="deltaxml-new">Earley</span></a><span class="deltaxml-new">], [</span><a href="#unger" shape="rect"><span class="deltaxml-new">Unger</span></a><span class="deltaxml-new">], [</span><a href="#cyk" shape="rect"><span class="deltaxml-new">CYK</span></a><span class="deltaxml-new">], [</span><a href="#glr" shape="rect"><span class="deltaxml-new">GLR</span></a><span class="deltaxml-new">], and [</span><a href="#gll" shape="rect"><span class="deltaxml-new">GLL</span></a><span class="deltaxml-new">];
see also [</span><a href="#grune" shape="rect"><span class="deltaxml-new">Grune</span></a><span class="deltaxml-new">].</span></p><p><span class="deltaxml-new">If an input encoded in UTF-8 begins with a BOM, the BOM 
</span><span class="conform"><span class="deltaxml-new">should</span></span><span class="deltaxml-new"> be ignored.</span></p><p><span class="deltaxml-new">If the parse fails, some XML document </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be
produced with </span><code><span class="deltaxml-new">ixml:state</span></code><span class="deltaxml-new"> on the document element with a value that
includes the word </span><code><span class="deltaxml-new">failed</span></code><span class="deltaxml-new">. The document </span><span class="conform"><span class="deltaxml-new">should</span></span><span class="deltaxml-new"> provide helpful information about where and why
it failed; it </span><span class="conform"><span class="deltaxml-new">may</span></span><span class="deltaxml-new"> be a partial parse tree that
includes parts of the parse that succeeded.</span></p><h2 id="serialisation"><span class="sectnum"><span class="deltaxml-new">5. </span></span><span class="deltaxml-new">Serialization</span></h2><p><span class="deltaxml-new">If the parse succeeds, the resulting parse-tree is serialized as XML by
serializing the root node of the parse tree.</span></p><p><span class="deltaxml-new">A parse node is one of:</span></p><ul><li><span class="deltaxml-new">a nonterminal, which has a name, an optional alias, and
    children,</span></li><li><span class="deltaxml-new">a terminal, which has a string,</span></li><li><span class="deltaxml-new">an insertion, which has a string.</span></li></ul><p><span class="deltaxml-new">A </span><strong><span class="deltaxml-new">nonterminal</span></strong><span class="deltaxml-new"> can be unmarked, or marked as included (^),
as an attribute (@), or as deleted (-). The mark comes from the use of the
nonterminal in a rule if present, and otherwise from the definition of the rule
for that nonterminal if it has a mark.</span></p><ul><li><strong><span class="deltaxml-new">Unmarked or included</span></strong><span class="deltaxml-new">: the node is serialized as an
    XML element whose:  
    </span><ul><li><span class="deltaxml-new">name is the alias of the node if present, or the alias of the
        referred-to rule, if it has one, and otherwise the name of the node,
        </span></li><li><span class="deltaxml-new">attributes are the serializations of all exposed attribute
        descendants, if any. An attribute node is exposed if it is an attribute
        child, or an exposed attribute node of a deleted child (note this is
        recursive).</span></li><li><span class="deltaxml-new">content is the serialization of all its non-attribute children
        in order, if any.</span></li></ul><span class="deltaxml-new">
  </span></li><li><strong><span class="deltaxml-new">Deleted</span></strong><span class="deltaxml-new">: all its non-attribute children, if any,
    are serialized in order.</span></li><li><strong><span class="deltaxml-new">Attribute</span></strong><span class="deltaxml-new">: the node is serialized as an XML
    attribute whose:  
    </span><ul><li><span class="deltaxml-new">name is the alias of the node if present, or the alias of the
        referred-to rule, if it has one, and otherwise the name of the node,
        </span></li><li><span class="deltaxml-new">value is the serialization of all non-deleted terminal
        descendants of the node (regardless of the marking of intermediate
        nonterminals), if any, in order.</span></li></ul><span class="deltaxml-new">
  </span></li></ul><p><span class="deltaxml-new">A </span><strong><span class="deltaxml-new">terminal</span></strong><span class="deltaxml-new"> can be unmarked, or marked as included (^),
or as deleted (-).</span></p><ul><li><strong><span class="deltaxml-new">Unmarked or included</span></strong><span class="deltaxml-new">: the node is serialized as its
    string.</span></li><li><strong><span class="deltaxml-new">Deleted</span></strong><span class="deltaxml-new">: the node is not serialized.</span></li></ul><p><span class="deltaxml-new">An </span><strong><span class="deltaxml-new">insertion</span></strong><span class="deltaxml-new"> is serialized as its string.</span></p><p><span class="deltaxml-new">An application has some latitude when serializing XML. Some aspects
of the serialization are explicitly insignificant, such as the order
of attributes on an element, whether single or double quotes are used
to delimit attributes, or whether numeric character references use
decimal or hexadecimal numbers.
Some aspects of the serialization will impact whether or not all
characters of the input are retained after the
serialized XML is parsed with a conforming XML parser (e.g. </span><code><span class="deltaxml-new">#a#d</span></code><span class="deltaxml-new"> as a line separator, or either of
those characters within attribute values) .
For a more comprehensive discussion, see
[</span><a href="#serialization" shape="rect"><span class="deltaxml-new">XML Serialization</span></a><span class="deltaxml-new">].
A conformant Invisible XML processor is required to produce
well-formed XML output, but its choices in serializing the selected parse tree
are not otherwise constrained.</span></p><span class="deltaxml-new">

say explicitly that processors may offer the kinds of options defined in the serialization spaec
indentation is a problem, make it a should</span><p><span class="deltaxml-new">Grammars </span><span id="ref-d01" class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be written so that
any serialization of a parse tree produced from the grammar is well-formed XML
(</span><a class="error" href="#err-d01" shape="rect"><span class="deltaxml-new">error D01</span></a><span class="deltaxml-new">).</span></p><p><span class="deltaxml-new">Note: This requirement means for instance that names of serialized elements
and attributes </span><span id="ref-d03" class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> match the XML
requirements (</span><a class="error" href="#err-d03" shape="rect"><span class="deltaxml-new">error D03</span></a><span class="deltaxml-new">); an element </span><span id="ref-d02" class="conform"><span class="deltaxml-new">must not</span></span><span class="deltaxml-new"> contain more than one attribute of
a given name (</span><a class="error" href="#err-d02" shape="rect"><span class="deltaxml-new">error D02</span></a><span class="deltaxml-new">); an element </span><span id="ref-d07" class="conform"><span class="deltaxml-new">must not</span></span><span class="deltaxml-new"> contain an attribute named
“xmlns” (</span><a class="error" href="#err-d07" shape="rect"><span class="deltaxml-new">error D07</span></a><span class="deltaxml-new">); the names of all
elements and attributes </span><span id="ref-d03" class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> conform
to the requirements for XML names; non-XML characters </span><span id="ref-d04" class="conform"><span class="deltaxml-new">must not</span></span><span class="deltaxml-new"> be serialized (</span><a class="error" href="#err-d04" shape="rect"><span class="deltaxml-new">error D04</span></a><span class="deltaxml-new">); a nonterminal being serialized as root element
</span><span id="ref-d05" class="conform"><span class="deltaxml-new">must not</span></span><span class="deltaxml-new"> be marked as an attribute
(</span><a class="error" href="#err-d05" shape="rect"><span class="deltaxml-new">error D05</span></a><span class="deltaxml-new">); in order to match the XML
requirement of a single-rooted document, if the root rule is marked as hidden,
all of its productions </span><span id="ref-d06" class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> produce
exactly one non-hidden non-attribute nonterminal and no non-hidden terminals
before or after that nonterminal (</span><a class="error" href="#err-d06" shape="rect"><span class="deltaxml-new">error
D06</span></a><span class="deltaxml-new">).</span></p><p><span class="deltaxml-new">A (necessarily contrived) example grammar that illustrates serialization
rules is:</span></p><pre class="ixml"><span><span class="deltaxml-new">          </span><span class="nt"><span class="deltaxml-new">expr</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">open</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">arith</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">close</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">;</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
         </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">open</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">(</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
         </span><span class="nt"><span class="deltaxml-new">close</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">)</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
         </span><span class="nt"><span class="deltaxml-new">arith</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">left</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">op</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">^</span></span><span class="nt"><span class="deltaxml-new">right</span></span><span class="deltaxml-new">&gt;</span><span class="nt"><span class="deltaxml-new">second</span></span><span class="deltaxml-new">.
    </span><span class="nt"><span class="deltaxml-new">left</span></span><span class="deltaxml-new">&gt;</span><span class="nt"><span class="deltaxml-new">first</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">operand</span></span><span class="deltaxml-new">.
        </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">right</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">operand</span></span><span class="deltaxml-new">.
      </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">operand</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">name</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">number</span></span><span class="deltaxml-new">.
         </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">name</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">a</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">z</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
       </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">number</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">0</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">9</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
           </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">op</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">sign</span></span><span class="deltaxml-new">.
</span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">sign</span></span><span class="deltaxml-new">&gt;</span><span class="nt"><span class="deltaxml-new">operator</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">+</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">-</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">Applied to the string </span><code><span class="deltaxml-new">(a+1);</span></code><span class="deltaxml-new"> it yields the serialization</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">expr</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">open</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">(</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">operator</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">+</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">close</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">)</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">first</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">a</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">second</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">1</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">second</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">expr</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><p><span class="deltaxml-new">Points to note: how the semicolon is suppressed from the serialization; the
two ways </span><code><span class="deltaxml-new">open</span></code><span class="deltaxml-new"> and </span><code><span class="deltaxml-new">close</span></code><span class="deltaxml-new"> have been defined as
attributes; similarly the two ways </span><code><span class="deltaxml-new">left</span></code><span class="deltaxml-new"> and </span><code><span class="deltaxml-new">right</span></code><span class="deltaxml-new">
have been defined as elements, and the two ways they have been
renamed; how </span><code><span class="deltaxml-new">number</span></code><span class="deltaxml-new"> appears as content and not as an
attribute; and how </span><code><span class="deltaxml-new">sign</span></code><span class="deltaxml-new"> being an exposed attribute appears on its
nearest non-hidden ancestor, and has been renamed. Also of note is
how the content of some attributes can appear earlier in the serialization than
in the input.</span></p><p><span class="deltaxml-new">Insertions allow characters to be inserted into the serialization that were
not present in the input. For instance, the grammar</span></p><pre class="ixml"><span><span class="deltaxml-new">  </span><span class="nt"><span class="deltaxml-new">data</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">value</span></span><span class="reps"><span class="deltaxml-new">++</span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">,</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">source</span></span><span class="deltaxml-new">.
</span><span class="nt"><span class="deltaxml-new">source</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="rep"><span class="deltaxml-new">+</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">ixml</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
 </span><span class="nt"><span class="deltaxml-new">value</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">pos</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">neg</span></span><span class="deltaxml-new">.
  </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">pos</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="rep"><span class="deltaxml-new">+</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">+</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">digit</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">.
  </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">neg</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="rep"><span class="deltaxml-new">+</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">-</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">(</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">digit</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">)</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">digit</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">0</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">9</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.</span></span></pre><p><span class="deltaxml-new">With input:</span></p><pre><span class="deltaxml-new">100,200,(300),400</span></pre><p><span class="deltaxml-new">would produce</span></p><pre class="xml"><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">data</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">source</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">ixml</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">+100</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">+200</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">-300</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">+400</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">value</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">data</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><h2 id="conformance"><span class="sectnum"><span class="deltaxml-new">6. </span></span><span class="deltaxml-new">Conformance</span></h2><p><em><span class="deltaxml-new">In this specification, the verb "must" expresses unconditional
requirements for conformance to the specification; the verb "should" expresses
requirements that are encouraged but which are not conditions of conformance;
the verb "may" expresses optional features which are neither required nor
prohibited.</span></em></p><p><span class="deltaxml-new">Conformance to this specification can meaningfully be claimed for grammars
and for processors; it cannot be claimed for input streams or input + grammar
pairs.</span></p><h3 id="grammarconformance"><span class="sectnum"><span class="deltaxml-new">6.7. </span></span><span class="deltaxml-new">Conformance of grammars</span></h3><p><span class="deltaxml-new">An ixml grammar in ixml form conforms to this specification if it is
described by the grammar given in this specification, and it satisfies all the
other requirements specified for ixml grammars.</span></p><p><span class="deltaxml-new">An ixml grammar in XML form conforms to this specification if, after removal
of namespace qualified elements and attributes, it can be derived from an ixml
grammar in ixml form by parsing as described in this specification, and it
satisfies all the other requirements specified for ixml grammars.</span></p><p><span class="deltaxml-new">Note: The normative formulations of conformance requirements are those given
elsewhere in this specification. For convenience the requirements that go
beyond what is expressed in the grammar itself can be summarized as follows.
(Reasonable effort has been used to make this list complete, but omission of
any conformance requirement from this list does not affect its status as a
conformance requirement.)</span></p><ul><li><span class="deltaxml-new">Every nonterminal used in the right-hand side of any rule </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be defined by a single rule.</span></li><li><span class="deltaxml-new">Any character class used </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be one that is
    listed in the Unicode specification.</span></li><li><span class="deltaxml-new">The number represented in a hex encoding of a character </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be within the Unicode character range, and
    </span><span class="conform"><span class="deltaxml-new">must not</span></span><span class="deltaxml-new"> denote a Noncharacter or Surrogate
    code point.</span></li><li><span class="deltaxml-new">The </span><code><span class="deltaxml-new">from</span></code><span class="deltaxml-new"> character of a range </span><span class="conform"><span class="deltaxml-new">must
    not</span></span><span class="deltaxml-new"> be later in the Unicode ordering than the </span><code><span class="deltaxml-new">to</span></code><span class="deltaxml-new">
    character.</span></li><li><span class="deltaxml-new">Any serialization of a parse tree produced from the grammar </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be well-formed XML.</span></li></ul><h3 id="processorconformance"><span class="sectnum"><span class="deltaxml-new">6.8. </span></span><span class="deltaxml-new">Conformance of processors</span></h3><p><span class="deltaxml-new">A conforming processor </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> accept grammars in
ixml form, and </span><span class="conform"><span class="deltaxml-new">should</span></span><span class="deltaxml-new"> accept grammars in XML form;
it </span><span class="conform"><span class="deltaxml-new">must not</span></span><span class="deltaxml-new"> accept non-conforming grammars. Both
grammars and input </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be accepted in UTF-8
encoding, and </span><span class="conform"><span class="deltaxml-new">may</span></span><span class="deltaxml-new"> be accepted in other
encodings.</span></p><p><span class="deltaxml-new">For any conforming grammar and any input, under normal operation: </span></p><ul><li><span class="deltaxml-new">Processors </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> parse by default the entire
    input using the grammar, determining in the process whether or not the
    input is described by the grammar. Processors </span><span class="conform"><span class="deltaxml-new">may</span></span><span class="deltaxml-new"> provide user options for other behaviors, such
    as parsing the largest, or smallest, prefix of the input that is described
    by the grammar, or supporting invocation with input streams of
    indeterminate length.</span></li><li><span class="deltaxml-new">If the input is unambiguously described by the grammar, the resulting
    parse tree </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> be serialized to an XML
    document.</span></li><li><span class="deltaxml-new">If more than one parse tree describes the input, the processor </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> serialize one of them. It is not defined how
    this choice is made, but the resulting serialization </span><span class="conform"><span class="deltaxml-new">should</span></span><span class="deltaxml-new"> by default include the attribute
    </span><code><span class="deltaxml-new">ixml:state</span></code><span class="deltaxml-new"> on the document element with a value that includes
    the word </span><code><span class="deltaxml-new">ambiguous</span></code><span class="deltaxml-new">. Processors </span><span class="conform"><span class="deltaxml-new">may</span></span><span class="deltaxml-new"> provide a user option to suppress that
    attribute; they </span><span class="conform"><span class="deltaxml-new">may</span></span><span class="deltaxml-new"> also provide a user option
    to produce more than one parse tree.</span></li><li><span class="deltaxml-new">If the input is not described by the grammar, the processor </span><span class="conform"><span class="deltaxml-new">must</span></span><span class="deltaxml-new"> produce some XML document with the attribute
    </span><code><span class="deltaxml-new">ixml:state</span></code><span class="deltaxml-new"> on the document element with a value that includes
    the word </span><code><span class="deltaxml-new">failed</span></code><span class="deltaxml-new">, with helpful information about where and why
    it failed; it </span><span class="conform"><span class="deltaxml-new">may</span></span><span class="deltaxml-new"> be a partial parse tree that
    includes parts of the parse that succeeded.</span></li><li><span class="deltaxml-new">If a prefix of the input is described by the grammar, processors </span><span class="conform"><span class="deltaxml-new">may</span></span><span class="deltaxml-new"> choose either to produce a failure document as
    described above, or to serialize the resulting parse tree with the
    attribute </span><code><span class="deltaxml-new">ixml:state</span></code><span class="deltaxml-new"> containing the word </span><code><span class="deltaxml-new">prefix</span></code><span class="deltaxml-new">,
    or if the parse is ambiguous, the words </span><code><span class="deltaxml-new">ambiguous prefix</span></code><span class="deltaxml-new">.</span></li><li><span class="deltaxml-new">If the input was processed as a different version of ixml than that
    required by the prolog, the </span><code><span class="deltaxml-new">ixml:state</span></code><span class="deltaxml-new"> attribute must include
    the word </span><code><span class="deltaxml-new">version-mismatch</span></code><span class="deltaxml-new">. </span></li><li><span class="deltaxml-new">The form in which XML documents are produced is not constrained by this
    specification; processors </span><span class="conform"><span class="deltaxml-new">should</span></span><span class="deltaxml-new"> be capable of
    producing serialized XML as a character stream, but other forms (e.g. DOM
    instances or XDM instances) </span><span class="conform"><span class="deltaxml-new">may</span></span><span class="deltaxml-new"> also be
  used.</span></li></ul><h2 id="hints"><span class="sectnum"><span class="deltaxml-new">7. </span></span><span class="deltaxml-new">Hints for Implementers</span></h2><p><span class="deltaxml-new">Many parsing algorithms only mention terminals and nonterminals, and don't
explain how to deal with the repetition constructs used in ixml. However, these
can be handled simply by converting them to equivalent simple constructs. In
the examples below, </span><code><span class="deltaxml-new">f</span></code><span class="deltaxml-new"> and </span><code><span class="deltaxml-new">sep</span></code><span class="deltaxml-new"> are
</span><code><span class="deltaxml-new">factors</span></code><span class="deltaxml-new"> from the grammar above. The other nonterminals are
generated nonterminals.</span></p><p><span class="deltaxml-new">Optional factor:</span></p><pre><span class="deltaxml-new">f? ⇒ f-option
-f-option: f; ().</span></pre><p><span class="deltaxml-new">Zero or more repetitions:</span></p><pre><span class="deltaxml-new">f* ⇒ f-star
-f-star: (f, f-star)?.</span></pre><p><span class="deltaxml-new">One or more repetitions:</span></p><pre><span class="deltaxml-new">f+ ⇒ f-plus
-f-plus: f, f*.</span></pre><p><span class="deltaxml-new">One or more repetitions with separator:</span></p><pre><span class="deltaxml-new">f++sep ⇒ f-plus-sep
-f-plus-sep: f, (sep, f)*.</span></pre><p><span class="deltaxml-new">Zero or more repetitions with separator:</span></p><pre><span class="deltaxml-new">f**sep ⇒ f-star-sep
-f-star-sep: (f++sep)?.</span></pre><p><span class="deltaxml-new">Implementers should pay particular attention to serializing whitespace and
other control characters. Consider, for example, the case where the
characters </span><code><span class="deltaxml-new">#a</span></code><span class="deltaxml-new"> or </span><code><span class="deltaxml-new">#d</span></code><span class="deltaxml-new"> appear in a value
serialized as an attribute. When that serialized XML is parsed, the
XML parser will replace </span><code><span class="deltaxml-new">#a</span></code><span class="deltaxml-new"> and </span><code><span class="deltaxml-new">#d</span></code><span class="deltaxml-new"> characters
with spaces when it performs whitespace normalization on the attribute
value. Similarly, the sequence </span><code><span class="deltaxml-new">#d#a</span></code><span class="deltaxml-new"> will be translated to
a single </span><code><span class="deltaxml-new">#a</span></code><span class="deltaxml-new"> by standard XML parsing. If the user of the
grammar expects to see the original characters in the XML output, it
will be necessary to encode them using numeric character references
when serializing the XML output. If on the other hand the user does
</span><em><span class="deltaxml-new">not</span></em><span class="deltaxml-new"> expect to see the original characters in the output, then
carefully preserving them using numeric character references is likely
to be unhelpful. See [</span><a href="#serialization" shape="rect"><span class="deltaxml-new">Serialization</span></a><span class="deltaxml-new">] for
detailed discussions.</span></p><h2 id="complete"><span class="sectnum"><span class="deltaxml-new">8. </span></span><span class="deltaxml-new">Complete Grammar</span></h2><p><span class="deltaxml-new">The </span><a href="ixml.ixml.html" shape="rect"><span class="deltaxml-new">complete grammar</span></a><span class="deltaxml-new"> for ixml:</span></p><pre><span><span class="deltaxml-new">         </span><span class="nt"><span class="deltaxml-new">ixml</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">prolog</span></span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">rule</span></span><span class="reps"><span class="deltaxml-new">++</span></span><span class="nt"><span class="deltaxml-new">RS</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.

           </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">s</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">whitespace</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">comment</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">*</span></span><span class="deltaxml-new">. </span><span class="com"><span class="comdel"><span class="deltaxml-new">{</span></span><span class="deltaxml-new">Optional spacing</span><span class="comdel"><span class="deltaxml-new">}</span></span></span><span class="deltaxml-new">
          </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">RS</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">whitespace</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">comment</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">. </span><span class="com"><span class="comdel"><span class="deltaxml-new">{</span></span><span class="deltaxml-new">Required spacing</span><span class="comdel"><span class="deltaxml-new">}</span></span></span><span class="deltaxml-new">
  </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">whitespace</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="nt"><span class="deltaxml-new">Zs</span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">tab</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">lf</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">cr</span></span><span class="deltaxml-new">.
         </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">tab</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-new">#</span></span><span class="deltaxml-new">9</span></span><span class="deltaxml-new">.
          </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">lf</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-new">#</span></span><span class="deltaxml-new">a</span></span><span class="deltaxml-new">.
          </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">cr</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="hex"><span class="hexdel"><span class="deltaxml-new">#</span></span><span class="deltaxml-new">d</span></span><span class="deltaxml-new">.
      </span><span class="nt"><span class="deltaxml-new">comment</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">{</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, (</span><span class="nt"><span class="deltaxml-new">cchar</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">comment</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">*</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">}</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
       </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">cchar</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">{}</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.

       </span><span class="nt"><span class="deltaxml-new">prolog</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">version</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.
      </span><span class="nt"><span class="deltaxml-new">version</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">ixml</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">RS</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">version</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">RS</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">string</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">.</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> .

         </span><span class="nt"><span class="deltaxml-new">rule</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">naming</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">=:</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">alts</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">.</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
      </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">naming</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">mark</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">name</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, (</span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">&gt;</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">alias</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">.
        </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">name</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">namestart</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">namefollower</span></span><span class="rep"><span class="deltaxml-new">*</span></span><span class="deltaxml-new">.
   </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">namestart</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">_</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">L</span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">namefollower</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">namestart</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">-.·‿⁀</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">Nd</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">Mn</span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.

       </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">alias</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">name</span></span><span class="deltaxml-new">.
         </span><span class="nt"><span class="deltaxml-new">alts</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">alt</span></span><span class="reps"><span class="deltaxml-new">++</span></span><span class="deltaxml-new">(</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">;|</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">).
          </span><span class="nt"><span class="deltaxml-new">alt</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">term</span></span><span class="reps"><span class="deltaxml-new">**</span></span><span class="deltaxml-new">(</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">,</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">).
        </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">term</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="nt"><span class="deltaxml-new">option</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="nt"><span class="deltaxml-new">repeat0</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="nt"><span class="deltaxml-new">repeat1</span></span><span class="deltaxml-new">.
      </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">terminal</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="nt"><span class="deltaxml-new">nonterminal</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="nt"><span class="deltaxml-new">insertion</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">(</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">alts</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">)</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.
      </span><span class="nt"><span class="deltaxml-new">repeat0</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="deltaxml-new">, (</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">*</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">**</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">sep</span></span><span class="deltaxml-new">).
      </span><span class="nt"><span class="deltaxml-new">repeat1</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="deltaxml-new">, (</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">+</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">++</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">sep</span></span><span class="deltaxml-new">).
       </span><span class="nt"><span class="deltaxml-new">option</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">?</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.
        </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">mark</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">@^-</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
          </span><span class="nt"><span class="deltaxml-new">sep</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">factor</span></span><span class="deltaxml-new">.
  </span><span class="nt"><span class="deltaxml-new">nonterminal</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">naming</span></span><span class="deltaxml-new">.
    </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">terminal</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">literal</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> 
               </span><span class="nt"><span class="deltaxml-new">charset</span></span><span class="deltaxml-new">.
      </span><span class="nt"><span class="deltaxml-new">literal</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">quoted</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="nt"><span class="deltaxml-new">encoded</span></span><span class="deltaxml-new">.
      </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">quoted</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">tmark</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">string</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.

       </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">tmark</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">^-</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
      </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">string</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">dchar</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">schar</span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">.
        </span><span class="nt"><span class="deltaxml-new">dchar</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">Cc</span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new">. </span><span class="com"><span class="comdel"><span class="deltaxml-new">{</span></span><span class="deltaxml-new">all characters except controls; quotes must be doubled</span><span class="comdel"><span class="deltaxml-new">}</span></span></span><span class="deltaxml-new">
        </span><span class="nt"><span class="deltaxml-new">schar</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">~[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">Cc</span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">. </span><span class="com"><span class="comdel"><span class="deltaxml-new">{</span></span><span class="deltaxml-new">all characters except controls; quotes must be doubled</span><span class="comdel"><span class="deltaxml-new">}</span></span></span><span class="deltaxml-new">
     </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">encoded</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">tmark</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">#</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">hex</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.
         </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">hex</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">0</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">9</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">a</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">f</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">A</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">F</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="rep"><span class="deltaxml-new">+</span></span><span class="deltaxml-new">.

     </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">charset</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">inclusion</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> 
               </span><span class="nt"><span class="deltaxml-new">exclusion</span></span><span class="deltaxml-new">.
    </span><span class="nt"><span class="deltaxml-new">inclusion</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">tmark</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">,          </span><span class="nt"><span class="deltaxml-new">set</span></span><span class="deltaxml-new">.
    </span><span class="nt"><span class="deltaxml-new">exclusion</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> (</span><span class="nt"><span class="deltaxml-new">tmark</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">~</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">set</span></span><span class="deltaxml-new">.
         </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">set</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">[</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">,  (</span><span class="nt"><span class="deltaxml-new">member</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">)</span><span class="reps"><span class="deltaxml-new">**</span></span><span class="deltaxml-new">(</span><span class="mark"><span class="deltaxml-new">-</span></span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">;|</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">), </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">]</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.
       </span><span class="nt"><span class="deltaxml-new">member</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">string</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">#</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">hex</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="nt"><span class="deltaxml-new">range</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="nt"><span class="deltaxml-new">class</span></span><span class="deltaxml-new">.
       </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">range</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">from</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">-</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">to</span></span><span class="deltaxml-new">.
        </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">from</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">character</span></span><span class="deltaxml-new">.
          </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">to</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">character</span></span><span class="deltaxml-new">.
   </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">character</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">dchar</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">'</span></span><span class="deltaxml-new">"</span><span class="strdel"><span class="deltaxml-new">'</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">schar</span></span><span class="deltaxml-new">, </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">'</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new">
               </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">#</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">hex</span></span><span class="deltaxml-new">.
       </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">class</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">code</span></span><span class="deltaxml-new">.
        </span><span class="mark"><span class="deltaxml-new">@</span></span><span class="nt"><span class="deltaxml-new">code</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="nt"><span class="deltaxml-new">capital</span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="rep"><span class="deltaxml-new">?</span></span><span class="deltaxml-new">.
     </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">capital</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">A</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">Z</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
      </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="nt"><span class="deltaxml-new">letter</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="set"><span class="setdel"><span class="deltaxml-new">[</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">A</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">Z</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">a</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">z</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="setdel"><span class="deltaxml-new">]</span></span></span><span class="deltaxml-new">.
    </span><span class="nt"><span class="deltaxml-new">insertion</span></span><span class="col"><span class="deltaxml-new">:</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">+</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">, (</span><span class="nt"><span class="deltaxml-new">string</span></span><span class="alt"><span class="deltaxml-new">;</span></span><span class="deltaxml-new"> </span><span class="mark"><span class="deltaxml-new">-</span></span><span class="str"><span class="strdel"><span class="deltaxml-new">"</span></span><span class="deltaxml-new">#</span><span class="strdel"><span class="deltaxml-new">"</span></span></span><span class="deltaxml-new">, </span><span class="nt"><span class="deltaxml-new">hex</span></span><span class="deltaxml-new">), </span><span class="nt"><span class="deltaxml-new">s</span></span><span class="deltaxml-new">.
</span></span></pre><h2 id="ixml"><span class="sectnum"><span class="deltaxml-new">9. </span></span><span class="deltaxml-new">IXML in IXML</span></h2><p><span class="deltaxml-new">Since the ixml grammar is expressed in its own notation, the above grammar
can be processed into an XML document by parsing it using itself, and then
serializing. Note that all semantically significant terminals are recorded in
attributes, and non-significant characters are not serialized. An
abbreviated serialization is shown below, but the </span><a href="ixml.xml.html" shape="rect"><span class="deltaxml-new">entire
serialization</span></a><span class="deltaxml-new"> is available:</span></p><pre><span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">ixml</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">ixml</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">s</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">option</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
            </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">prolog</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">option</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">repeat1</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
            </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">rule</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
            </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">sep</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
               </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">RS</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
            </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">sep</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">repeat1</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">s</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">mark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">s</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">repeat0</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
            </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alts</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
               </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">whitespace</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
               </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
               </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">comment</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
               </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
            </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alts</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">repeat0</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">comment</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">Optional spacing</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">comment</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">mark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">RS</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">repeat1</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
            </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alts</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
               </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">whitespace</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
               </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
               </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">comment</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
               </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
            </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alts</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">repeat1</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">comment</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">Required spacing</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">comment</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">mark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">whitespace</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">inclusion</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
            </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">member</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">code</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">Zs</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">inclusion</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">tab</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">lf</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">cr</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">mark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">tab</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">literal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">hex</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">9</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">mark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">lf</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">literal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">hex</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">a</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">mark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">cr</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">literal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">hex</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">d</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">comment</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">literal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">string</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">{</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">repeat0</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
            </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alts</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
               </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">cchar</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
               </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
               </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
                  </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">comment</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
               </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
            </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alts</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">repeat0</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">literal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">string</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">}</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">mark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">cchar</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">exclusion</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
            </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">member</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">string</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">{}</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">exclusion</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">prolog</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">version</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">s</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">version</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">literal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">string</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">ixml</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">RS</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">literal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">string</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">version</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">RS</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">string</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">s</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">literal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">string</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">.</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">rule</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
      </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">naming</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="text"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">inclusion</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">&gt;</span></span><span class="deltaxml-new">
            </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">member</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">string</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">=:</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">inclusion</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">s</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">nonterminal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">mark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">name</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">alts</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
         </span><span class="empty"><span class="stag"><span class="deltaxml-new">&lt;</span></span><span class="gi"><span class="deltaxml-new">literal</span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">tmark</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">-</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="deltaxml-new"> </span><span class="attr"><span class="aname"><span class="deltaxml-new">string</span></span><span class="eq"><span class="deltaxml-new">=</span></span><span class="q"><span class="deltaxml-new">'</span></span><span class="avalue"><span class="deltaxml-new">.</span></span><span class="q"><span class="deltaxml-new">'</span></span></span><span class="stag"><span class="deltaxml-new">/&gt;</span></span></span><span class="deltaxml-new">
      </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">alt</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   </span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">rule</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span><span class="deltaxml-new">
   &lt;!--  Many more rules here… --&gt;
</span><span class="etag"><span class="deltaxml-new">&lt;/</span></span><span class="gi"><span class="deltaxml-new">ixml</span></span><span class="etag"><span class="deltaxml-new">&gt;</span></span></span></span></pre><h2 id="errors"><span class="sectnum"><span class="deltaxml-new">10. </span></span><span class="deltaxml-new">Errors</span></h2><p><span class="deltaxml-new">This section summarizes errors identified in this specification. Static
errors are errors that can be identified by inspecting the grammar.</span></p><dl id="static-errors"><dt id="err-s01"><a href="#ref-s01" shape="rect"><span class="deltaxml-new">S01</span></a></dt><dd><span class="deltaxml-new">It is an error if two rules are not separated by at least one
      whitespace character or comment.</span></dd><dt id="err-s02"><a href="#ref-s02" shape="rect"><span class="deltaxml-new">S02</span></a></dt><dd><span class="deltaxml-new">It is an error to use a nonterminal name that is not defined by a rule
      in the grammar.</span></dd><dt id="err-s03"><a href="#ref-s03" shape="rect"><span class="deltaxml-new">S03</span></a></dt><dd><span class="deltaxml-new">It is an error if the grammar contains more than one rule for a given
      nonterminal name.</span></dd><dt id="err-s06"><a href="#ref-s06" shape="rect"><span class="deltaxml-new">S06</span></a></dt><dd><span class="deltaxml-new">It is an error if a hex encoding uses any characters not allowed in
      hexadecimal.</span></dd><dt id="err-s07"><a href="#ref-s07" shape="rect"><span class="deltaxml-new">S07</span></a></dt><dd><span class="deltaxml-new">It is an error if the hexadecimal value is not within the Unicode
      code-point range.</span></dd><dt id="err-s08"><a href="#ref-s08" shape="rect"><span class="deltaxml-new">S08</span></a></dt><dd><span class="deltaxml-new">It is an error if an encoded character denotes a Unicode noncharacter
      or surrogate code point.</span></dd><dt id="err-s09"><a href="#ref-s09" shape="rect"><span class="deltaxml-new">S09</span></a></dt><dd><span class="deltaxml-new">It is an error if the first character in a range has a code point value
      greater than the second character in the range.</span></dd><dt id="err-s10"><a href="#ref-s10" shape="rect"><span class="deltaxml-new">S10</span></a></dt><dd><span class="deltaxml-new">It is an error to use a Unicode character category that is not defined
      in the Unicode specification.</span></dd><dt id="err-s11"><a href="#ref-s11" shape="rect"><span class="deltaxml-new">S11</span></a></dt><dd><span class="deltaxml-new">It is an error if a string contains a C0 or C1 control character,
    including a line break.</span></dd><dt id="err-s12"><a href="#ref-s12" shape="rect"><span class="deltaxml-new">S12</span></a></dt><dd><span class="deltaxml-new">It is an error if the grammar does not conform to the implied or
      declared version.</span></dd></dl><p><span class="deltaxml-new">Dynamic errors arise when a particular input is processed with a grammar.</span></p><dl id="dynamic-errors"><dt id="err-d01"><a href="#ref-d01" shape="rect"><span class="deltaxml-new">D01</span></a></dt><dd><span class="deltaxml-new">It is an error if the parse tree produced by a grammar cannot be
      represented as well-formed XML.</span></dd><dt id="err-d02"><a href="#ref-d02" shape="rect"><span class="deltaxml-new">D02</span></a></dt><dd><span class="deltaxml-new">It is an error if two or more attributes with the same name would be
      serialized on the same element.</span></dd><dt id="err-d03"><a href="#ref-d03" shape="rect"><span class="deltaxml-new">D03</span></a></dt><dd><span class="deltaxml-new">It is an error if the name of any element or attribute is not a valid
      XML name.</span></dd><dt id="err-d04"><a href="#ref-d04" shape="rect"><span class="deltaxml-new">D04</span></a></dt><dd><span class="deltaxml-new">It is an error to attempt to serialize as XML any characters that are
      not permitted in XML.</span></dd><dt id="err-d05"><a href="#ref-d05" shape="rect"><span class="deltaxml-new">D05</span></a></dt><dd><span class="deltaxml-new">It is an error to attempt to serialize an attribute as the root node of
      an XML document.</span></dd><dt id="err-d06"><a href="#ref-d06" shape="rect"><span class="deltaxml-new">D06</span></a></dt><dd><span class="deltaxml-new">It is an error if the parse tree does not contain exactly one top-level
      element.</span></dd><dt id="err-d07"><a href="#ref-d07" shape="rect"><span class="deltaxml-new">D07</span></a></dt><dd><span class="deltaxml-new">It is an error if an attribute named “xmlns” appears on an
    element.</span></dd></dl><p><span class="deltaxml-new">Note: if error codes are reported in a context where it makes sense for them
to appear in a namespace, they </span><span class="conform"><span class="deltaxml-new">should</span></span><span class="deltaxml-new"> be in the
Invisible XML namespace.</span></p><h2 id="references"><span class="sectnum"><span class="deltaxml-new">11. </span></span><span class="deltaxml-new">References</span></h2><p id="unicode"><span class="deltaxml-new">[Unicode] The Unicode Consortium (ed.), </span><em><span class="deltaxml-new">The Unicode
Standard — Version 13.0</span></em><span class="deltaxml-new">. Unicode Consortium, 2020, ISBN
978-1-936213-26-9, </span><a href="http://www.unicode.org/versions/Unicode13.0.0/" shape="rect"><span class="deltaxml-new">http://www.unicode.org/versions/Unicode13.0.0/</span></a></p><p id="categories"><span class="deltaxml-new">[Categories] The Unicode Consortium (ed.), </span><em><span class="deltaxml-new">Unicode
Standard Annex #44: Unicode Character Database -- General Category Values</span></em><span class="deltaxml-new">
</span><a href="https://unicode.org/reports/tr44/#General_Category_Values" shape="rect"><span class="deltaxml-new">https://unicode.org/reports/tr44/#General_Category_Values</span></a><span class="deltaxml-new">
(See also </span><a href="http://www.fileformat.info/info/unicode/category/index.htm" shape="rect"><span class="deltaxml-new">http://www.fileformat.info/info/unicode/category/index.htm</span></a><span class="deltaxml-new">)</span></p><p id="xml"><span class="deltaxml-new">[XML] Tim Bray </span><em><span class="deltaxml-new">et al</span></em><span class="deltaxml-new">. (eds.), </span><em><span class="deltaxml-new">Extensible Markup
Language (XML) 1.0 (Fifth Edition)</span></em><span class="deltaxml-new">, W3C, 2008, </span><a href="https://www.w3.org/TR/xml/" shape="rect"><span class="deltaxml-new">https://www.w3.org/TR/xml/</span></a></p><h2 id="L3425"><span class="sectnum"><span class="deltaxml-new">12. </span></span><span class="deltaxml-new">Informational References</span></h2><p id="cyk"><span class="deltaxml-new">[CYK] Sakai, Itiroo. </span><em><span class="deltaxml-new">Syntax in universal translation</span></em><span class="deltaxml-new">. In
1961 International Conference on Machine Translation of Languages and Applied
Language Analysis, pages 593–608. </span><a href="https://aclanthology.org/www.mt-archive.info/50/NPL-1961-Sakai.pdf" shape="rect"><span class="deltaxml-new">https://aclanthology.org/www.mt-archive.info/50/NPL-1961-Sakai.pdf</span></a></p><p id="earley"><span class="deltaxml-new">[Earley] Earley, J. </span><em><span class="deltaxml-new">An efficient context-free parsing
algorithm</span></em><span class="deltaxml-new">. Communications of the ACM, 13(2):94–102, February 1970, </span><a href="doi:/home/steven/Common/web/localhost/ixml/10.1145/362007.362035" shape="rect"><span class="deltaxml-new">doi:10.1145/362007.362035</span></a></p><p id="gll"><span class="deltaxml-new">[GLL] Elizabeth Scott and Adrian Johnstone, </span><em><span class="deltaxml-new">GLL Parsing</span></em><span class="deltaxml-new">.
Electronic Notes in Theoretical Computer Science, Volume 253, Issue 7, 17
September 2010, pages 177-189. </span><a href="doi:10.1016/j.entcs.2010.08.041" shape="rect"><span class="deltaxml-new">doi:10.1016/j.entcs.2010.08.041</span></a></p><p id="glr"><span class="deltaxml-new">[GLR] Masaru Tomita. </span><em><span class="deltaxml-new">Generalized LR Parsing</span></em><span class="deltaxml-new">. Springer
Science &amp; Business Media. ISBN 978-1-4615-4034-2. </span><a href="doi:10.1007/978-1-4615-4034-2" shape="rect"><span class="deltaxml-new">doi:10.1007/978-1-4615-4034-2</span></a></p><p id="grune"><span class="deltaxml-new">[Grune] Grune, D. and Jacobs, C. </span><em><span class="deltaxml-new">Parsing techniques : a
practical guide (2nd ed.)</span></em><span class="deltaxml-new">. New York: Springer, 2008. ISBN
978-0-387-20248-8. </span><a href="https://dickgrune.com/Books/PTAPG_2nd_Edition/CompleteList.pdf" shape="rect"><span class="deltaxml-new">https://dickgrune.com/Books/PTAPG_2nd_Edition/CompleteList.pdf</span></a></p><p id="serialization"><span class="deltaxml-new">[XML Serialization] Andrew Coleman and C. M. Sperberg-McQueen (eds.)
</span><em><span class="deltaxml-new">XSLT and XQuery Serialization 3.1</span></em><span class="deltaxml-new">. W3C, 2017,
</span><a href="https://www.w3.org/TR/xslt-xquery-serialization-31/" shape="rect"><span class="deltaxml-new">https://www.w3.org/TR/xslt-xquery-serialization-31/</span></a></p><p id="unger"><span class="deltaxml-new">[Unger] Unger, S. H. </span><em><span class="deltaxml-new">A global parser for context-free phrase
structure grammars</span></em><span class="deltaxml-new">. Communications of the ACM, 11(4):240–247, April
1968, </span><a href="doi:10.1145/362991.363001" shape="rect"><span class="deltaxml-new">doi:10.1145/362991.363001</span></a></p><p id="control"><span class="deltaxml-new">[Control] Wikipedia, </span><em><span class="deltaxml-new">C0 and C1 control codes</span></em><span class="deltaxml-new">,
</span><a href="https://en.wikipedia.org/wiki/C0_and_C1_control_codes" shape="rect"><span class="deltaxml-new">https://en.wikipedia.org/wiki/C0_and_C1_control_codes</span></a><span class="deltaxml-new">.</span></p><h2 id="acknowledgments"><span class="sectnum"><span class="deltaxml-new">13. </span></span><span class="deltaxml-new">Acknowledgements</span></h2><p><span class="deltaxml-new">This specification was produced by members of the W3C ixml community group:
Tomos Hillman, John Lumley, Steven Pemberton, C. M. Sperberg-McQueen, Bethan
Tovey-Walsh, Norman Tovey-Walsh. Other current and former members of the group
have also contributed.</span></p><p><span class="deltaxml-new">Thanks are due to Hans-Dieter Hiep for an early close reading of the
specification, and consequent many helpful comments.</span></p><footer class="docid"><p><span class="dt"><span class="deltaxml-new">Document build #40 for invisibleXML/ixml at </span><time datetime="2023-11-28T15:51:41GMT+00:00" title="2023-11-28T15:51:41GMT+00:00"><span class="deltaxml-new">15:51 on 28 November 2023</span></time></span><span class="deltaxml-new"> </span><span class="bh"><span title="59f177ccdde75b0635d4cc284a7351454e686236"><span class="deltaxml-new">59f177cc</span></span></span></p></footer></main></body></html>