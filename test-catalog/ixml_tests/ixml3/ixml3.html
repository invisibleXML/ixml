<!DOCTYPE HTML><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Invisible XML Test Suite Catalog</title><link rel="stylesheet" href="../../css/catalog.css"></head><body><div class="breadcrumbs"><a href="../../"><img class="logotype" src="../..//img/logotype_white.png"></a>&nbsp;/&nbsp;<a href="../../ixml_tests">ixml tests</a>&nbsp;/&nbsp;<a href="../../ixml_tests/ixml3">ixml3</a>&nbsp;/&nbsp;ixml3</div><main><img class="logosm" src="../../img/logo_gradient.png"><h1 class="title">iXML Community Group Test Suite</h1><details><summary>21&nbsp;Jun&nbsp;2022 (28&nbsp;Jun&nbsp;2022)</summary><div class="description">
    <p>Top-level catalog for tests in the iXML Community Group
    Test Suite.</p>
    <p>Tests have been contributed from several sources, but
    the core of the test collection are the tests contributed
    by Steven Pemberton in December 2021.</p>
  </div></details><h2 class="title">ixml tests</h2><details><summary>01&nbsp;Jun&nbsp;2022</summary><div class="description">
    <p>Tests provided by Steven Pemberton in December 2021,
    with corrections of 21 December. Reorganized by Norm Tovey-Walsh, February 2022.</p>
    </div></details><h3 class="title">ixml3</h3><p>Created 16&nbsp;Dec&nbsp;2021 by SP</p><div class="grammar"><h4>Invisible XML Grammar</h4><pre><code>{A test for what happens with comments in nonterminal attributes}
ixml: S, rule+.
rule: mark?, name, ["=:"], S, -alts, ".", S.
alts: alt++([";|"], S).
alt: term**(",", S).
-term: factor;
       repeat0;
       repeat1;
       option.
repeat0: factor, "*", S, sep?.
repeat1: factor, "+", S, sep?.
option:  factor, "?", S.
sep:     factor.

-factor: nonterminal;
         terminal;
         "(", S, alts, ")", S.
nonterminal: mark?, name.
-terminal: literal; charset.
-literal: quoted; encoded.
-charset: inclusion; exclusion.

quoted: tmark?, -string.
encoded: tmark?, @hex, S.
inclusion: tmark?, "[", S,  element++([";|"], S), "]", S.
exclusion: tmark?, "~", S, "[", S,  element++([";|"], S), "]", S.

@tmark: ["^-"], S.
-element: range;
          string;
          hex;
          class.
range: from, S, "-", S, to, S.
@from: character.
@to: character.
-character: -'"', dchar, -'"';
            -"'", schar, -"'";
            hex.
class: letter, letter, S. {One of the Unicode character classes}
-letter: ["a"-"z"; "A"-"Z"].
@name: letgit, xletter*, S.
-letgit: ["a" - "z" {AAA}; "A"-"Z"; "0"-"9"].
-xletter: letgit; "-".

@mark: ["@^-"], S.

string: -'"', dstring, -'"', S;
        -"'", sstring, -"'", S.
@dstring: dchar+.
@sstring: schar+.
dchar: ~['"'];
       '""'. {all characters, dquotes must be doubled}
schar: ~["'"];
       "''". {all characters, squotes must be doubled}
hex: "#", ["0"-"9"; "a"-"f"; "A"-"F"]+.

-S: (" "; #9 {comment}; -#a; -#d; comment)*.
^comment: "{", cchar*, "}".
-cchar: ~["}"].

{the end}
</code></pre></div><h1>Test case: ixml3</h1><details><p>Repository URI: <code>â€¦/tests/ixml/test-catalog.xml</code></p></details>
	<p>Created 16&nbsp;Dec&nbsp;2021 by SP</p>
	<details><summary>Updated 30&nbsp;Dec&nbsp;2021 by MSM</summary><p>stripped non-significant whitespace from result</p></details>
	
	<div class="test-string"><h4>Input string (1508 characters)</h4><pre><code>{A test for what happens with comments in nonterminal attributes}
ixml: S, rule+.
rule: mark?, name, ["=:"], S, -alts, ".", S.
alts: alt+([";|"], S).
alt: term*(",", S).
-term: factor;
       repeat0;
       repeat1;
       option.
repeat0: factor, "*", S, sep?.
repeat1: factor, "+", S, sep?.
option:  factor, "?", S.
sep:     factor.

-factor: nonterminal;
         terminal;
         "(", S, alts, ")", S.
nonterminal: mark?, name.
-terminal: literal; charset.
-literal: quoted; encoded.
-charset: inclusion; exclusion.

quoted: tmark?, -string.
encoded: tmark?, @hex.
inclusion: tmark?, "[", S,  element+([";|"], S), "]", S.
exclusion: tmark?, "~", S, "[", S,  element+([";|"], S), "]", S.

@tmark: ["^-"], S.
-element: range;
          string;
          hex;
          class.
range: from, S, "-", S, to, S.
@from: character.
@to: character.
-character: -'"', dchar, -'"';
            -"'", schar, -"'";
            hex.
class: letter, letter, S. {One of the Unicode character classes}
-letter: ["a"-"z"; "A"-"Z"].
@name: letgit, xletter*, S.
-letgit: ["a" - "z" {AAA}; "A"-"Z"; "0"-"9"].
-xletter: letgit; "-".

@mark: ["@^-"], S.

string: -'"', dstring, -'"', S;
        -"'", sstring, -"'", S.
@dstring: dchar+.
@sstring: schar+.
dchar: ~['"'];
       '""'. {all characters, dquotes must be doubled}
schar: ~["'"];
       "''". {all characters, squotes must be doubled}
hex: "#", ["0"-"9"; "a"-"f"; "A"-"F"]+.

-S: (" "; #9 {comment}; comment)*.
^comment: "{", cchar*, "}".
-cchar: ~["}"].

{the end}
</code></pre></div>
	<div class="result"><h4>Expected result</h4>
	  <div class="xml-result"><pre><code>&lt;ixml&gt;
   &lt;comment&gt;{A test for what happens with comments in nonterminal attributes}&lt;/comment&gt;
   &lt;rule name="ixml"&gt;: &lt;alt&gt;
         &lt;nonterminal name="S"/&gt;, &lt;repeat1&gt;
            &lt;nonterminal name="rule"/&gt;+&lt;/repeat1&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="rule"&gt;: &lt;alt&gt;
         &lt;option&gt;
            &lt;nonterminal name="mark"/&gt;?&lt;/option&gt;, &lt;nonterminal name="name"/&gt;, &lt;inclusion&gt;[&lt;string dstring="=:"/&gt;]&lt;/inclusion&gt;, &lt;nonterminal name="S"/&gt;, &lt;nonterminal mark="-" name="alts"/&gt;, &lt;quoted dstring="."/&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="alts"&gt;: &lt;alt&gt;
         &lt;repeat1&gt;
            &lt;nonterminal name="alt"/&gt;+&lt;sep&gt;(&lt;alts&gt;
                  &lt;alt&gt;
                     &lt;inclusion&gt;[&lt;string dstring=";|"/&gt;]&lt;/inclusion&gt;, &lt;nonterminal name="S"/&gt;
                  &lt;/alt&gt;
               &lt;/alts&gt;)&lt;/sep&gt;
         &lt;/repeat1&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="alt"&gt;: &lt;alt&gt;
         &lt;repeat0&gt;
            &lt;nonterminal name="term"/&gt;*&lt;sep&gt;(&lt;alts&gt;
                  &lt;alt&gt;
                     &lt;quoted dstring=","/&gt;, &lt;nonterminal name="S"/&gt;
                  &lt;/alt&gt;
               &lt;/alts&gt;)&lt;/sep&gt;
         &lt;/repeat0&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="term"&gt;: &lt;alt&gt;
         &lt;nonterminal name="factor"/&gt;
      &lt;/alt&gt;;       &lt;alt&gt;
         &lt;nonterminal name="repeat0"/&gt;
      &lt;/alt&gt;;       &lt;alt&gt;
         &lt;nonterminal name="repeat1"/&gt;
      &lt;/alt&gt;;       &lt;alt&gt;
         &lt;nonterminal name="option"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="repeat0"&gt;: &lt;alt&gt;
         &lt;nonterminal name="factor"/&gt;, &lt;quoted dstring="*"/&gt;, &lt;nonterminal name="S"/&gt;, &lt;option&gt;
            &lt;nonterminal name="sep"/&gt;?&lt;/option&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="repeat1"&gt;: &lt;alt&gt;
         &lt;nonterminal name="factor"/&gt;, &lt;quoted dstring="+"/&gt;, &lt;nonterminal name="S"/&gt;, &lt;option&gt;
            &lt;nonterminal name="sep"/&gt;?&lt;/option&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="option"&gt;:  &lt;alt&gt;
         &lt;nonterminal name="factor"/&gt;, &lt;quoted dstring="?"/&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="sep"&gt;:     &lt;alt&gt;
         &lt;nonterminal name="factor"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="factor"&gt;: &lt;alt&gt;
         &lt;nonterminal name="nonterminal"/&gt;
      &lt;/alt&gt;;         &lt;alt&gt;
         &lt;nonterminal name="terminal"/&gt;
      &lt;/alt&gt;;         &lt;alt&gt;
         &lt;quoted dstring="("/&gt;, &lt;nonterminal name="S"/&gt;, &lt;nonterminal name="alts"/&gt;, &lt;quoted dstring=")"/&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="nonterminal"&gt;: &lt;alt&gt;
         &lt;option&gt;
            &lt;nonterminal name="mark"/&gt;?&lt;/option&gt;, &lt;nonterminal name="name"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="terminal"&gt;: &lt;alt&gt;
         &lt;nonterminal name="literal"/&gt;
      &lt;/alt&gt;; &lt;alt&gt;
         &lt;nonterminal name="charset"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="literal"&gt;: &lt;alt&gt;
         &lt;nonterminal name="quoted"/&gt;
      &lt;/alt&gt;; &lt;alt&gt;
         &lt;nonterminal name="encoded"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="charset"&gt;: &lt;alt&gt;
         &lt;nonterminal name="inclusion"/&gt;
      &lt;/alt&gt;; &lt;alt&gt;
         &lt;nonterminal name="exclusion"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="quoted"&gt;: &lt;alt&gt;
         &lt;option&gt;
            &lt;nonterminal name="tmark"/&gt;?&lt;/option&gt;, &lt;nonterminal mark="-" name="string"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="encoded"&gt;: &lt;alt&gt;
         &lt;option&gt;
            &lt;nonterminal name="tmark"/&gt;?&lt;/option&gt;, &lt;nonterminal mark="@" name="hex"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="inclusion"&gt;: &lt;alt&gt;
         &lt;option&gt;
            &lt;nonterminal name="tmark"/&gt;?&lt;/option&gt;, &lt;quoted dstring="["/&gt;, &lt;nonterminal name="S"/&gt;,  &lt;repeat1&gt;
            &lt;nonterminal name="element"/&gt;+&lt;sep&gt;(&lt;alts&gt;
                  &lt;alt&gt;
                     &lt;inclusion&gt;[&lt;string dstring=";|"/&gt;]&lt;/inclusion&gt;, &lt;nonterminal name="S"/&gt;
                  &lt;/alt&gt;
               &lt;/alts&gt;)&lt;/sep&gt;
         &lt;/repeat1&gt;, &lt;quoted dstring="]"/&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="exclusion"&gt;: &lt;alt&gt;
         &lt;option&gt;
            &lt;nonterminal name="tmark"/&gt;?&lt;/option&gt;, &lt;quoted dstring="~"/&gt;, &lt;nonterminal name="S"/&gt;, &lt;quoted dstring="["/&gt;, &lt;nonterminal name="S"/&gt;,  &lt;repeat1&gt;
            &lt;nonterminal name="element"/&gt;+&lt;sep&gt;(&lt;alts&gt;
                  &lt;alt&gt;
                     &lt;inclusion&gt;[&lt;string dstring=";|"/&gt;]&lt;/inclusion&gt;, &lt;nonterminal name="S"/&gt;
                  &lt;/alt&gt;
               &lt;/alts&gt;)&lt;/sep&gt;
         &lt;/repeat1&gt;, &lt;quoted dstring="]"/&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="@" name="tmark"&gt;: &lt;alt&gt;
         &lt;inclusion&gt;[&lt;string dstring="^-"/&gt;]&lt;/inclusion&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="element"&gt;: &lt;alt&gt;
         &lt;nonterminal name="range"/&gt;
      &lt;/alt&gt;;          &lt;alt&gt;
         &lt;nonterminal name="string"/&gt;
      &lt;/alt&gt;;          &lt;alt&gt;
         &lt;nonterminal name="hex"/&gt;
      &lt;/alt&gt;;          &lt;alt&gt;
         &lt;nonterminal name="class"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="range"&gt;: &lt;alt&gt;
         &lt;nonterminal name="from"/&gt;, &lt;nonterminal name="S"/&gt;, &lt;quoted dstring="-"/&gt;, &lt;nonterminal name="S"/&gt;, &lt;nonterminal name="to"/&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="@" name="from"&gt;: &lt;alt&gt;
         &lt;nonterminal name="character"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="@" name="to"&gt;: &lt;alt&gt;
         &lt;nonterminal name="character"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="character"&gt;: &lt;alt&gt;
         &lt;quoted tmark="-" sstring="&amp;#34;"/&gt;, &lt;nonterminal name="dchar"/&gt;, &lt;quoted tmark="-" sstring="&amp;#34;"/&gt;
      &lt;/alt&gt;;            &lt;alt&gt;
         &lt;quoted tmark="-" dstring="'"/&gt;, &lt;nonterminal name="schar"/&gt;, &lt;quoted tmark="-" dstring="'"/&gt;
      &lt;/alt&gt;;            &lt;alt&gt;
         &lt;nonterminal name="hex"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="class"&gt;: &lt;alt&gt;
         &lt;nonterminal name="letter"/&gt;, &lt;nonterminal name="letter"/&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;. &lt;comment&gt;{One of the Unicode character classes}&lt;/comment&gt;
   &lt;/rule&gt;
   &lt;rule mark="-" name="letter"&gt;: &lt;alt&gt;
         &lt;inclusion&gt;[&lt;range from="a" to="z"&gt;-&lt;/range&gt;; &lt;range from="A" to="Z"&gt;-&lt;/range&gt;]&lt;/inclusion&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="@" name="name"&gt;: &lt;alt&gt;
         &lt;nonterminal name="letgit"/&gt;, &lt;repeat0&gt;
            &lt;nonterminal name="xletter"/&gt;*&lt;/repeat0&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="letgit"&gt;: &lt;alt&gt;
         &lt;inclusion&gt;[&lt;range from="a" to="z"&gt; -  &lt;comment&gt;{AAA}&lt;/comment&gt;
            &lt;/range&gt;; &lt;range from="A" to="Z"&gt;-&lt;/range&gt;; &lt;range from="0" to="9"&gt;-&lt;/range&gt;]&lt;/inclusion&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="xletter"&gt;: &lt;alt&gt;
         &lt;nonterminal name="letgit"/&gt;
      &lt;/alt&gt;; &lt;alt&gt;
         &lt;quoted dstring="-"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="@" name="mark"&gt;: &lt;alt&gt;
         &lt;inclusion&gt;[&lt;string dstring="@^-"/&gt;]&lt;/inclusion&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="string"&gt;: &lt;alt&gt;
         &lt;quoted tmark="-" sstring="&amp;#34;"/&gt;, &lt;nonterminal name="dstring"/&gt;, &lt;quoted tmark="-" sstring="&amp;#34;"/&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;;        &lt;alt&gt;
         &lt;quoted tmark="-" dstring="'"/&gt;, &lt;nonterminal name="sstring"/&gt;, &lt;quoted tmark="-" dstring="'"/&gt;, &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="@" name="dstring"&gt;: &lt;alt&gt;
         &lt;repeat1&gt;
            &lt;nonterminal name="dchar"/&gt;+&lt;/repeat1&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="@" name="sstring"&gt;: &lt;alt&gt;
         &lt;repeat1&gt;
            &lt;nonterminal name="schar"/&gt;+&lt;/repeat1&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule name="dchar"&gt;: &lt;alt&gt;
         &lt;exclusion&gt;~[&lt;string sstring="&amp;#34;"/&gt;]&lt;/exclusion&gt;
      &lt;/alt&gt;;       &lt;alt&gt;
         &lt;quoted sstring="&amp;#34;&amp;#34;"/&gt;
      &lt;/alt&gt;. &lt;comment&gt;{all characters, dquotes must be doubled}&lt;/comment&gt;
   &lt;/rule&gt;
   &lt;rule name="schar"&gt;: &lt;alt&gt;
         &lt;exclusion&gt;~[&lt;string dstring="'"/&gt;]&lt;/exclusion&gt;
      &lt;/alt&gt;;       &lt;alt&gt;
         &lt;quoted dstring="''"/&gt;
      &lt;/alt&gt;. &lt;comment&gt;{all characters, squotes must be doubled}&lt;/comment&gt;
   &lt;/rule&gt;
   &lt;rule name="hex"&gt;: &lt;alt&gt;
         &lt;quoted dstring="#"/&gt;, &lt;repeat1&gt;
            &lt;inclusion&gt;[&lt;range from="0" to="9"&gt;-&lt;/range&gt;; &lt;range from="a" to="f"&gt;-&lt;/range&gt;; &lt;range from="A" to="F"&gt;-&lt;/range&gt;]&lt;/inclusion&gt;+&lt;/repeat1&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="S"&gt;: &lt;alt&gt;
         &lt;repeat0&gt;(&lt;alts&gt;
               &lt;alt&gt;
                  &lt;quoted dstring=" "/&gt;
               &lt;/alt&gt;; &lt;alt&gt;
                  &lt;encoded hex="#9"&gt;
                     &lt;comment&gt;{comment}&lt;/comment&gt;
                  &lt;/encoded&gt;
               &lt;/alt&gt;; &lt;alt&gt;
                  &lt;nonterminal name="comment"/&gt;
               &lt;/alt&gt;
            &lt;/alts&gt;)*&lt;/repeat0&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="^" name="comment"&gt;: &lt;alt&gt;
         &lt;quoted dstring="{"/&gt;, &lt;repeat0&gt;
            &lt;nonterminal name="cchar"/&gt;*&lt;/repeat0&gt;, &lt;quoted dstring="}"/&gt;
      &lt;/alt&gt;.&lt;/rule&gt;
   &lt;rule mark="-" name="cchar"&gt;: &lt;alt&gt;
         &lt;exclusion&gt;~[&lt;string dstring="}"/&gt;]&lt;/exclusion&gt;
      &lt;/alt&gt;.&lt;comment&gt;{the end}&lt;/comment&gt;
   &lt;/rule&gt;
&lt;/ixml&gt;
</code></pre></div>
	</div>
      </main></body></html>