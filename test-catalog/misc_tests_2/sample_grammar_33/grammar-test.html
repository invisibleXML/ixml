<!DOCTYPE HTML><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Invisible XML Test Suite Catalog</title><link rel="stylesheet" href="../../css/catalog.css"></head><body><div class="breadcrumbs"><a href="../../"><img class="logotype" src="../..//img/logotype_white.png"></a>&nbsp;/&nbsp;<a href="../../misc_tests_2">Misc tests 2</a>&nbsp;/&nbsp;<a href="../../misc_tests_2/sample_grammar_33">sample.grammar.33</a>&nbsp;/&nbsp;Grammar test</div><main><img class="logosm" src="../../img/logo_gradient.png"><h1 class="title">iXML Community Group Test Suite</h1><details><summary>23&nbsp;Oct&nbsp;2023</summary><div class="description">
    <p>Top-level catalog for tests in the iXML Community Group
    Test Suite.</p>
    <p>Tests have been contributed from several sources, but
    the core of the test collection are the tests contributed
    by Steven Pemberton in December 2021.</p>
  </div></details><h2 class="title">Misc tests 2</h2><details><summary>28&nbsp;Jun&nbsp;2022</summary><div class="description">
    <p>Grammars 21-40.</p>
    <p>Test grammars compiled manually in 2018 and 2019,
    re-packaged in 2022.</p>
    <p>Added test cases where needed and moved to ixml test
    collection, June 2022.</p>
  </div></details><h3 class="title">sample.grammar.33</h3><p>Created 08&nbsp;Feb&nbsp;2022 by cmsmcq</p><div class="description">
      <p>Grammar for the toy programming language Tosca. </p>
      <p>From Susan Stepney, High integrity compilation: a case study. Hemel 
      Hempstead: Prentice Hall International, 1993. Web edition.  Tosca is 
      defined in chapter 4; the concrete syntax is specified using Z, not 
      using a grammar, and leaves some things undefined, so the grammar
      given here is a bit of a reconstruction.</p>
      <p>
      </p>
    </div><div class="grammar"><h4>Invisible XML Grammar</h4><pre><code>{ program is defined in section 4.8 }
program: S, decl**S, S, cmd, S.

{ Names are described in 4.3 but left indeterminate syntactically;
I've made them like the SGML reference concrete syntax. }
NAME: letter, namechar*.
-letter:  ["a"-"z"; "A"-"Z"].
-digit: ["0"-"9"].
-namechar:  letter; digit; ["-"; "."; "_"].

{ Types are described in 4.3 }
TYPE:  "int"; "bool".
boolean:  "true"; "false".
number:  digit+.

{ declarations:  section 4.4 }
decl:  NAME, S, -":", S, TYPE, S, -";".

{ operators, section 4.5 }
unaryOp: negate; not.  

negate: "-".
not: "not".

binaryOp: plus; minus; less; greater; equal; or; and.  
plus: -"+".
minus: -"-".
less: -"&lt;".
greater: -"&gt;".
equal: -"=".
or: -"or".
and: -"and".

{ expressions:  4.6 }
expr:  constant; variable; unaryExpr; binaryExpr.
constant:  number; boolean.
variable:  NAME.
unaryExpr:  unaryOp, S, expr.
binaryExpr:  -"(", S, expr, S, binaryOp, S, expr, S, -")".

{ commands:  4.7 }
cmd: (skip; block; assign; choice; loop; input; output).
cmdseq: (cmd, S, -";", S)+.
skip: -"skip".
block:  -"begin", S, cmdseq, -"end".
assign: variable, S, -":=", S, expr.
choice: -"if", S, condition, S, -"then", S, iftrue, -"else", S, iffalse.
condition: -expr.
iftrue: cmd.
iffalse: cmd.
loop: -"while", S, expr, S, -"do", S, cmd.
input: -"input", S, NAME.
output: -"output", S, expr.

{ Stepney does not specify whitespace or comment rules. }
-S: (ws; comment)*.
-ws: -[#20; #0A; #09; #0D].
comment: -"/*", nonstar*, ("*", nonstarnonslash*)*, -"*/".
nonstar: ~["*"]. 
nonstarnonslash: ~["*"; "/"]. 

</code></pre></div><h1>Test case: Grammar test</h1><details><p>Repository URI: <code>â€¦/tests/misc/misc-021-040-catalog.xml</code></p></details>
      <div class="result"><h4>Expected result</h4>
	<div class="xml-result"><pre><code>&lt;ixml&gt;
   &lt;comment&gt; program is defined in section 4.8 &lt;/comment&gt;
   &lt;rule name="program"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;repeat0&gt;
            &lt;nonterminal name="decl"/&gt;
            &lt;sep&gt;
               &lt;nonterminal name="S"/&gt;
            &lt;/sep&gt;
         &lt;/repeat0&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="cmd"/&gt;
         &lt;nonterminal name="S"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;comment&gt; Names are described in 4.3 but left indeterminate syntactically;
I've made them like the SGML reference concrete syntax. &lt;/comment&gt;
   &lt;rule name="NAME"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="letter"/&gt;
         &lt;repeat0&gt;
            &lt;nonterminal name="namechar"/&gt;
         &lt;/repeat0&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule mark="-" name="letter"&gt;
      &lt;alt&gt;
         &lt;inclusion&gt;
            &lt;member from="a" to="z"/&gt;
            &lt;member from="A" to="Z"/&gt;
         &lt;/inclusion&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule mark="-" name="digit"&gt;
      &lt;alt&gt;
         &lt;inclusion&gt;
            &lt;member from="0" to="9"/&gt;
         &lt;/inclusion&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule mark="-" name="namechar"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="letter"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="digit"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;inclusion&gt;
            &lt;member string="-"/&gt;
            &lt;member string="."/&gt;
            &lt;member string="_"/&gt;
         &lt;/inclusion&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;comment&gt; Types are described in 4.3 &lt;/comment&gt;
   &lt;rule name="TYPE"&gt;
      &lt;alt&gt;
         &lt;literal string="int"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;literal string="bool"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="boolean"&gt;
      &lt;alt&gt;
         &lt;literal string="true"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;literal string="false"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="number"&gt;
      &lt;alt&gt;
         &lt;repeat1&gt;
            &lt;nonterminal name="digit"/&gt;
         &lt;/repeat1&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;comment&gt; declarations:  section 4.4 &lt;/comment&gt;
   &lt;rule name="decl"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="NAME"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;literal tmark="-" string=":"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="TYPE"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;literal tmark="-" string=";"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;comment&gt; operators, section 4.5 &lt;/comment&gt;
   &lt;rule name="unaryOp"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="negate"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="not"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="negate"&gt;
      &lt;alt&gt;
         &lt;literal string="-"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="not"&gt;
      &lt;alt&gt;
         &lt;literal string="not"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="binaryOp"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="plus"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="minus"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="less"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="greater"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="equal"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="or"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="and"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="plus"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="+"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="minus"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="-"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="less"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="&amp;lt;"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="greater"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="&amp;gt;"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="equal"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="="/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="or"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="or"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="and"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="and"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;comment&gt; expressions:  4.6 &lt;/comment&gt;
   &lt;rule name="expr"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="constant"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="variable"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="unaryExpr"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="binaryExpr"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="constant"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="number"/&gt;
      &lt;/alt&gt;
      &lt;alt&gt;
         &lt;nonterminal name="boolean"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="variable"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="NAME"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="unaryExpr"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="unaryOp"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="expr"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="binaryExpr"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="("/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="expr"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="binaryOp"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="expr"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;literal tmark="-" string=")"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;comment&gt; commands:  4.7 &lt;/comment&gt;
   &lt;rule name="cmd"&gt;
      &lt;alt&gt;
         &lt;alts&gt;
            &lt;alt&gt;
               &lt;nonterminal name="skip"/&gt;
            &lt;/alt&gt;
            &lt;alt&gt;
               &lt;nonterminal name="block"/&gt;
            &lt;/alt&gt;
            &lt;alt&gt;
               &lt;nonterminal name="assign"/&gt;
            &lt;/alt&gt;
            &lt;alt&gt;
               &lt;nonterminal name="choice"/&gt;
            &lt;/alt&gt;
            &lt;alt&gt;
               &lt;nonterminal name="loop"/&gt;
            &lt;/alt&gt;
            &lt;alt&gt;
               &lt;nonterminal name="input"/&gt;
            &lt;/alt&gt;
            &lt;alt&gt;
               &lt;nonterminal name="output"/&gt;
            &lt;/alt&gt;
         &lt;/alts&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="cmdseq"&gt;
      &lt;alt&gt;
         &lt;repeat1&gt;
            &lt;alts&gt;
               &lt;alt&gt;
                  &lt;nonterminal name="cmd"/&gt;
                  &lt;nonterminal name="S"/&gt;
                  &lt;literal tmark="-" string=";"/&gt;
                  &lt;nonterminal name="S"/&gt;
               &lt;/alt&gt;
            &lt;/alts&gt;
         &lt;/repeat1&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="skip"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="skip"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="block"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="begin"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="cmdseq"/&gt;
         &lt;literal tmark="-" string="end"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="assign"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="variable"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;literal tmark="-" string=":="/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="expr"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="choice"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="if"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="condition"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;literal tmark="-" string="then"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="iftrue"/&gt;
         &lt;literal tmark="-" string="else"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="iffalse"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="condition"&gt;
      &lt;alt&gt;
         &lt;nonterminal mark="-" name="expr"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="iftrue"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="cmd"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="iffalse"&gt;
      &lt;alt&gt;
         &lt;nonterminal name="cmd"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="loop"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="while"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="expr"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;literal tmark="-" string="do"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="cmd"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="input"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="input"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="NAME"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="output"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="output"/&gt;
         &lt;nonterminal name="S"/&gt;
         &lt;nonterminal name="expr"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;comment&gt; Stepney does not specify whitespace or comment rules. &lt;/comment&gt;
   &lt;rule mark="-" name="S"&gt;
      &lt;alt&gt;
         &lt;repeat0&gt;
            &lt;alts&gt;
               &lt;alt&gt;
                  &lt;nonterminal name="ws"/&gt;
               &lt;/alt&gt;
               &lt;alt&gt;
                  &lt;nonterminal name="comment"/&gt;
               &lt;/alt&gt;
            &lt;/alts&gt;
         &lt;/repeat0&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule mark="-" name="ws"&gt;
      &lt;alt&gt;
         &lt;inclusion tmark="-"&gt;
            &lt;member hex="20"/&gt;
            &lt;member hex="0A"/&gt;
            &lt;member hex="09"/&gt;
            &lt;member hex="0D"/&gt;
         &lt;/inclusion&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="comment"&gt;
      &lt;alt&gt;
         &lt;literal tmark="-" string="/*"/&gt;
         &lt;repeat0&gt;
            &lt;nonterminal name="nonstar"/&gt;
         &lt;/repeat0&gt;
         &lt;repeat0&gt;
            &lt;alts&gt;
               &lt;alt&gt;
                  &lt;literal string="*"/&gt;
                  &lt;repeat0&gt;
                     &lt;nonterminal name="nonstarnonslash"/&gt;
                  &lt;/repeat0&gt;
               &lt;/alt&gt;
            &lt;/alts&gt;
         &lt;/repeat0&gt;
         &lt;literal tmark="-" string="*/"/&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="nonstar"&gt;
      &lt;alt&gt;
         &lt;exclusion&gt;
            &lt;member string="*"/&gt;
         &lt;/exclusion&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
   &lt;rule name="nonstarnonslash"&gt;
      &lt;alt&gt;
         &lt;exclusion&gt;
            &lt;member string="*"/&gt;
            &lt;member string="/"/&gt;
         &lt;/exclusion&gt;
      &lt;/alt&gt;
   &lt;/rule&gt;
&lt;/ixml&gt;
</code></pre></div>
      </div>
    </main></body></html>