<test-catalog xmlns="https://github.com/invisibleXML/ixml/test-catalog"
	      release-date="2022-06-01"
	      name="iXML Community Group Test Suite - Error tests">

  <description>
    <p>Tests intended to demonstrate errors that processors are required
    to raise.</p>
  </description>

  <test-set name="syntax-xml-name">
    <created by="ndw" on="2022-02-19"/>
    <modified by="MSM" on="2022-06-01"
	      change="Uncomment this test, expect dynamic error"/>
    
    <description>
      <p>This falls into the class "can't be serialized" I
      think.</p>
      <p>So:  assert-dynamic-error.</p>
    </description>
    <description>      
      <p>No grammar-test for this one, because different
      results are possible:  a processor is allowed but not
      required to detect the problem statically.</p>
    </description>

    <ixml-grammar>ª: 'a' .</ixml-grammar>

    <test-case name="invalid-name">
      <test-string>a</test-string>
      <result><assert-dynamic-error error-code="D01 D03"/></result>
    </test-case>
  </test-set>

  <test-set name="hex-much-too-big">
    <created by="ndw" on="2022-02-19"/>
    <description>
      <p>The number is so large it’s like to exceed the processor’s
      ability to represent it.</p>
    </description>
    <ixml-grammar>s: #decafbadbadbadbad .</ixml-grammar>
    <grammar-test>
      <result>
	<assert-not-a-grammar error-code="S07"/>
      </result>
    </grammar-test>
    <!-- Since there is no grammar here, it's not really necessary
	 to have a text case.  But hey, ... -->
    <test-case name="hex-much-too-big">
      <test-string/>
      <result><assert-not-a-grammar error-code="S07"/></result>
    </test-case>
  </test-set>    

  <test-set name="hex-too-big">
    <created by="ndw" on="2022-02-19"/>
    <description>
      <p>Exceeds the range of Unicode.</p>
    </description>
    <ixml-grammar>s: #ffffffff0 .</ixml-grammar>
    <grammar-test>
      <result>
	<assert-not-a-grammar error-code="S07"/>
      </result>
    </grammar-test>
    <test-case name="hex-too-big">
      <test-string>42</test-string>
      <result><assert-not-a-grammar error-code="S07"/></result>
    </test-case>
  </test-set>    

  <test-set name="hex-not-a-character">
    <created by="ndw" on="2022-02-19"/>
    <description>
      <p>Not a Unicode character.</p>
    </description>
    <ixml-grammar>s: #fffe .</ixml-grammar>
    <grammar-test>
      <result>
	<assert-not-a-grammar error-code="S08"/>
      </result>
    </grammar-test>
    <test-case name="hex-not-a-character">
      <test-string>65534</test-string>
      <result><assert-not-a-grammar error-code="S08"/></result>
    </test-case>
  </test-set>    

  <test-set name="hex-also-not-a-character">
    <created by="ndw" on="2022-02-19"/>
    <description>
      <p>Also not a Unicode character.</p>
    </description>
    <ixml-grammar>s: #1fffe .</ixml-grammar>
    <grammar-test>
      <result>
	<assert-not-a-grammar error-code="S08"/>
      </result>
    </grammar-test>
    <test-case name="hex-also-not-a-character">
      <test-string/>
      <result><assert-not-a-grammar error-code="S08"/></result>
    </test-case>
  </test-set>    

  <test-set name="hex-surrogate">
    <created by="ndw" on="2022-02-19"/>
    <description>
      <p>A Unicode surrogate.</p>
    </description>
    <ixml-grammar>s: #d801 .</ixml-grammar>
    <grammar-test>
      <result>
	<assert-not-a-grammar error-code="S08"/>
      </result>
    </grammar-test>
    <test-case name="hex-surrogate">
      <test-string/>
      <result><assert-not-a-grammar error-code="S08"/></result>
    </test-case>
  </test-set>    

  <test-set name="bad-class">
    <created by="ndw" on="2022-02-19"/>
    <description>
      <p>An invalid Unicode character class.</p>
    </description>
    <ixml-grammar>s: [Xq] .</ixml-grammar>
    <grammar-test>
      <result>
	<assert-not-a-grammar error-code="S10"/>
      </result>
    </grammar-test>
    <test-case name="bad-class">
      <test-string>x</test-string>
      <result><assert-not-a-grammar error-code="S10"/></result>
    </test-case>
  </test-set>    

  <test-set name="invalid-range">
    <created by="ndw" on="2022-02-19"/>
    <description>
      <p>An invalid range.</p>
    </description>
    <ixml-grammar>s: ['Z'-'A'] .</ixml-grammar>
    <grammar-test>
      <result>
	<assert-not-a-grammar error-code="S09"/>
      </result>
    </grammar-test>
    <test-case name="invalid-range-A">
      <test-string>A</test-string>
      <result><assert-not-a-grammar error-code="S09"/></result>
    </test-case>
    <test-case name="invalid-range-Z">
      <test-string>Z</test-string>
      <result><assert-not-a-grammar error-code="S09"/></result>
    </test-case>
    <test-case name="invalid-range-L">
      <test-string>L</test-string>
      <result><assert-not-a-grammar error-code="S09"/></result>
    </test-case>
  </test-set>    

</test-catalog>
